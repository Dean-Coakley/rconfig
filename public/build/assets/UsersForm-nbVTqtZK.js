import{_ as M,f as m,g as q,o as a,c as t,b as P,a as e,n as c,v as _,t as n,h as l,p as v,j as g,F as O,r as V}from"./app-_cjOT05D.js";import{a as R}from"./ViewFunctions-QkJbCJLB.js";import{L as N}from"./LoadingSpinner-HcJ2r_wK.js";const L={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:N},setup(i,{emit:s}){const p=m(!1),o=m(i.viewstate.editid===0?"add":"edit"),{errors:f,model:d,clearModel:h,updateModel:r,getModel:y,storeModel:x,isLoading:k}=R(i.viewstate.modelName,i.viewstate.modelObject);q(()=>{y(i.viewstate.editid)});const C=async()=>{i.viewstate.editid!=0?await r(d):await x(d),f.value===""&&(s("formsubmitted",i.viewstate.pagenamesingle+" "+o.value+"ed!"),b())};function b(){s("closeDrawer")}const u=m(""),w=m("");function U(){d.repeat_password===d.password?(w.value="",u.value=["Passwords match"]):(u.value="",w.value=["Passwords do not match"])}return{showRoleOptions:p,close:b,errors:f,model:d,saveModels:C,clearModel:h,matchPassword:U,repeat_password_match_fail:w,repeat_password_match_pass:u,isLoading:k}}},S={key:0,novalidate:"",class:"pf-c-form"},D=["value"],j={class:"pf-c-form__group"},A=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Name"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),B={class:"pf-c-form__group-control"},F=["aria-invalid"],E={key:0,class:"pf-c-form__helper-text pf-m-error"},K={class:"pf-c-form__group"},T=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Username")])],-1),z={class:"pf-c-form__group-control"},G=["aria-invalid"],H={key:0,class:"pf-c-form__helper-text pf-m-error"},I={class:"pf-c-form__group"},J=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Email"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Q={class:"pf-c-form__group-control"},W=["aria-invalid"],X={key:0,class:"pf-c-form__helper-text pf-m-error"},Y={class:"pf-c-form__group"},Z=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Password"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),$={class:"pf-c-form__group-control"},ee=["aria-invalid"],oe={key:0,class:"pf-c-form__helper-text pf-m-error"},se={key:1,class:"pf-c-form__helper-text"},re={key:2,class:"pf-c-form__helper-text pf-m-error"},ae={key:3,class:"pf-c-form__helper-text pf-m-success"},te={class:"pf-c-form__group"},le=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Repeat Password"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),ne={class:"pf-c-form__group-control"},ie=["aria-invalid"],de={key:0,class:"pf-c-form__helper-text pf-m-error"},ce={class:"pf-c-form__group"},_e=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"User Role"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),me={class:"pf-c-form__group-control"},pe={class:"pf-c-select pf-m-expanded"},fe=e("span",{id:"select-single-expanded-selected-label",hidden:""},"Choose a role",-1),he={class:"pf-c-select__toggle-wrapper"},ue=["textContent"],we=e("span",{class:"pf-c-select__toggle-arrow"},[e("i",{class:"fas fa-caret-down","aria-hidden":"true"})],-1),ve={key:0,class:"pf-c-select__menu multi-select-dropdown-overflow",role:"listbox","aria-labelledby":"select-single-expanded-label"},be={role:"presentation"},ge={key:0,class:"pf-c-select__menu-item-icon"},ye=e("i",{class:"fas fa-check","aria-hidden":"true"},null,-1),xe=[ye],ke={role:"presentation"},Ce={key:0,class:"pf-c-select__menu-item-icon"},Ue=e("i",{class:"fas fa-check","aria-hidden":"true"},null,-1),Me=[Ue],qe={key:0,class:"pf-c-form__helper-text pf-m-error"},Pe={class:"pf-c-form__group pf-m-action"},Oe={class:"pf-c-form__group-control"},Ve={class:"pf-c-form__actions"};function Re(i,s,p,o,f,d){const h=V("loading-spinner");return a(),t(O,null,[P(h,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?l("",!0):(a(),t("form",S,[e("input",{id:"editid",name:"editid",type:"hidden",value:p.viewstate.editid},null,8,D),e("div",j,[A,e("div",B,[c(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"name",name:"name","onUpdate:modelValue":s[0]||(s[0]=r=>o.model.name=r),"aria-invalid":!!o.errors.name,autocomplete:"off"},null,8,F),[[_,o.model.name]]),o.errors.name?(a(),t("p",E,n(o.errors.name[0]),1)):l("",!0)])]),e("div",K,[T,e("div",z,[c(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"username",name:"username","onUpdate:modelValue":s[1]||(s[1]=r=>o.model.username=r),"aria-invalid":!!o.errors.username,autocomplete:"off"},null,8,G),[[_,o.model.username]]),o.errors.username?(a(),t("p",H,n(o.errors.username[0]),1)):l("",!0)])]),e("div",I,[J,e("div",Q,[c(e("input",{class:"pf-c-form-control",required:"",type:"email",id:"email",name:"email","onUpdate:modelValue":s[2]||(s[2]=r=>o.model.email=r),"aria-invalid":!!o.errors.email,autocomplete:"off"},null,8,W),[[_,o.model.email]]),o.errors.email?(a(),t("p",X,n(o.errors.email[0]),1)):l("",!0)])]),e("div",Y,[Z,e("div",$,[c(e("input",{class:"pf-c-form-control",required:"",type:"password",id:"password",name:"password","onUpdate:modelValue":s[3]||(s[3]=r=>o.model.password=r),"aria-invalid":!!(o.errors.password||o.repeat_password_match_fail),onKeyup:s[4]||(s[4]=(...r)=>o.matchPassword&&o.matchPassword(...r))},null,40,ee),[[_,o.model.password]]),o.errors.password?(a(),t("p",oe,n(o.errors.password[0]),1)):l("",!0),o.repeat_password_match_fail[0]===""||o.repeat_password_match_pass[0]===""?(a(),t("p",se," Password should contain at least 8 chacters, one lowercase letter, one uppercase letter, One number, and one special character. ")):l("",!0),o.repeat_password_match_fail?(a(),t("p",re,n(o.repeat_password_match_fail[0]),1)):l("",!0),o.repeat_password_match_pass?(a(),t("p",ae,n(o.repeat_password_match_pass[0]),1)):l("",!0)])]),e("div",te,[le,e("div",ne,[c(e("input",{class:"pf-c-form-control",required:"",type:"password",id:"repeat_password",name:"repeat_password","onUpdate:modelValue":s[5]||(s[5]=r=>o.model.repeat_password=r),"aria-invalid":!!(o.errors.repeat_password||o.repeat_password_match_fail),onKeyup:s[6]||(s[6]=(...r)=>o.matchPassword&&o.matchPassword(...r))},null,40,ie),[[_,o.model.repeat_password]]),o.errors.repeat_password?(a(),t("p",de,n(o.errors.repeat_password[0]),1)):l("",!0)])]),e("div",ce,[_e,e("div",me,[e("div",pe,[fe,e("button",{class:"pf-c-select__toggle",type:"button",onClick:s[7]||(s[7]=r=>o.showRoleOptions=!o.showRoleOptions)},[e("div",he,[e("span",{class:"pf-c-select__toggle-text",textContent:n(o.model.role?o.model.role:"Choose a role")},null,8,ue)]),we]),o.showRoleOptions||!1?(a(),t("ul",ve,[e("li",be,[e("button",{class:"pf-c-select__menu-item",role:"option",onClick:s[8]||(s[8]=v(r=>{o.model.role="Admin",o.showRoleOptions=!1},["prevent"]))},[g(" Admin "),o.model.role==="Admin"?(a(),t("span",ge,xe)):l("",!0)])]),e("li",ke,[e("button",{class:"pf-c-select__menu-item",role:"option",onClick:s[9]||(s[9]=v(r=>{o.model.role="User",o.showRoleOptions=!1},["prevent"]))},[g(" User "),o.model.role==="User"?(a(),t("span",Ce,Me)):l("",!0)])])])):l("",!0)]),o.errors.role?(a(),t("p",qe,n(o.errors.role[0]),1)):l("",!0)])]),e("div",Pe,[e("div",Oe,[e("div",Ve,[e("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:s[10]||(s[10]=v((...r)=>o.saveModels&&o.saveModels(...r),["prevent"]))}," Save "),e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:s[11]||(s[11]=(...r)=>o.close&&o.close(...r))}," Cancel ")])])])]))],64)}const De=M(L,[["render",Re]]);export{De as U};
