import{_ as x,u as w,o as t,c as o,a as s,b as d,w as u,i as S,r as p,d as D,e as L,f as m,g as b,h as i,j as g,t as v,F as V,k as R,l as h}from"./app-WFXKRrC4.js";import{H as I}from"./HelpContent-1oLzdkds.js";import{P}from"./PageHeader-XFyXy75-.js";import{D as E}from"./DeviceViewDeviceDetailsDescr-0Pfxm-Ab.js";/* empty css            */import"./CopyLogo-lSOpk5vw.js";const H={props:{model:{type:Object,default:()=>({})}},components:{},setup(f,{emit:n}){const a=S("create-notification");w();function e(){axios.post("/api/device/purge-failed-configs",{device_id:"--all"}).then(_=>{a({type:"success",title:"Purge Successful",message:"Purge failed config files for all devices."})}).catch(_=>{a({type:"danger",title:"Error",message:_.response.data.message})})}return{purgeFailedConfigs:e}}},N={class:"pf-c-card"},O=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Common Actions")],-1),M={class:"pf-c-menu"},F={class:"pf-c-menu__content"},j={class:"pf-c-menu__list"},A={class:"pf-c-menu__list-item"},B=s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"fas fa-plus-circle"})]),s("span",{class:"pf-c-menu__item-text"},"Create a new device")],-1),G=s("span",{class:"pf-c-menu__item-description"},"Setup a new devices in rConfig",-1),Q={class:"pf-c-menu__list-item"},T=s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"pficon pf-icon-storage-domain"})]),s("span",{class:"pf-c-menu__item-text"},"View Devices")],-1),z=s("span",{class:"pf-c-menu__item-description pf-u-text-break-word"},"View all devices",-1),U={class:"pf-c-menu__list-item"},Y=s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"fas fa-search"})]),s("span",{class:"pf-c-menu__item-text"},"Search Configs")],-1),q=s("span",{class:"pf-c-menu__item-description pf-u-text-break-word"},"Search multiple configuration files",-1),J={class:"pf-c-menu__list-item"},K=D('<span class="pf-c-menu__item-main"><span class="pf-c-menu__item-icon"><i class="fas fa-trash"></i></span><span class="pf-c-menu__item-text">Purge Failed Configs</span></span><span class="pf-c-menu__item-description pf-u-text-break-word">Purge all Failed Configs for all devices</span>',2),W=[K];function X(f,n,a,e,_,r){const c=p("router-link");return t(),o("div",null,[s("div",N,[O,s("div",M,[s("div",F,[s("ul",j,[s("li",A,[d(c,{to:"/devices",class:"pf-c-menu__item",type:"button"},{default:u(()=>[B,G]),_:1})]),s("li",Q,[d(c,{to:"/devices",class:"pf-c-menu__item",type:"button"},{default:u(()=>[T,z]),_:1})]),s("li",U,[d(c,{to:"/config-search",class:"pf-c-menu__item",type:"button"},{default:u(()=>[Y,q]),_:1})]),s("li",J,[s("button",{class:"pf-c-menu__item",onClick:n[0]||(n[0]=l=>e.purgeFailedConfigs())},W)])])])])])])}const Z=x(H,[["render",X]]),ss={props:{},setup(f){const n=L({}),a=m(!1),e=m(!1);b(()=>{r()});function _(){console.log("refreshing config details..."),a.value=!0,r()}function r(){e.value=!0,axios.get("/api/dashboard/configinfo").then(c=>{Object.assign(n,c.data.data),a.value=!1,e.value=!1})}return{configinfos:n,refreshData:_,isRefreshing:a,isLoading:e}}},es={class:"pf-c-card"},ts={class:"pf-c-card__header"},is={class:"pf-c-card__actions"},os={class:"pf-c-button__icon"},ns={key:0,class:"fas fa-redo","aria-hidden":"true"},cs={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},as=s("span",{class:"pf-c-spinner__clipper"},null,-1),ls=s("span",{class:"pf-c-spinner__lead-ball"},null,-1),_s=s("span",{class:"pf-c-spinner__tail-ball"},null,-1),ds=[as,ls,_s],rs=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Configuration Status")],-1),fs={class:"pf-c-card__body"},ps={class:"pf-l-grid pf-m-all-6-col-on-sm pf-m-all-3-col-on-lg pf-m-gutter"},ms={class:"pf-l-grid__item"},us={class:"pf-l-flex pf-m-space-items-sm"},hs=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-check-circle pf-u-success-color-100","aria-hidden":"true"})],-1),gs={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},vs={class:"pf-l-flex__item"},$s={class:"pf-l-flex__item"},xs={key:0,class:"pf-c-skeleton"},ks={key:1},ys={class:"pf-l-grid__item"},bs={class:"pf-l-flex pf-m-space-items-sm"},Cs=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-exclamation-circle pf-u-danger-color-100","aria-hidden":"true"})],-1),Ls={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},Ss={class:"pf-l-flex__item"},ws={class:"pf-l-flex__item"},Ds={key:0,class:"pf-c-skeleton"},Vs={key:1},Rs={class:"pf-l-grid__item"},Is={class:"pf-l-flex pf-m-space-items-sm"},Ps=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-check-circle pf-u-success-color-100","aria-hidden":"true"})],-1),Es={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},Hs={class:"pf-l-flex__item"},Ns={class:"pf-l-flex__item pf-m-flex-1"},Os={key:0,class:"pf-c-skeleton"},Ms={key:1},Fs={class:"pf-l-grid__item"},js={class:"pf-l-flex pf-m-space-items-sm"},As=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-exclamation-circle pf-u-danger-color-100","aria-hidden":"true"})],-1),Bs={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},Gs={class:"pf-l-flex__item"},Qs={class:"pf-l-flex__item pf-m-flex-1"},Ts={key:0,class:"pf-c-skeleton"},zs={key:1};function Us(f,n,a,e,_,r){const c=p("router-link");return t(),o("div",es,[s("div",ts,[s("div",is,[s("button",{class:"pf-c-button pf-m-plain",onClick:n[0]||(n[0]=l=>e.refreshData())},[s("span",os,[e.isRefreshing?i("",!0):(t(),o("i",ns)),e.isRefreshing?(t(),o("span",cs,ds)):i("",!0)])])]),rs]),s("div",fs,[s("div",ps,[s("div",ms,[s("div",us,[hs,s("div",gs,[s("div",vs,[d(c,{to:"/devices/status/1"},{default:u(()=>[g("Device Count")]),_:1})]),s("div",$s,[e.isLoading?(t(),o("div",xs)):i("",!0),e.isLoading?i("",!0):(t(),o("span",ks,v(e.configinfos.deviceCount)+" total",1))])])])]),s("div",ys,[s("div",bs,[Cs,s("div",Ls,[s("div",Ss,[d(c,{to:"/devices/status/0"},{default:u(()=>[g("Devices Down")]),_:1})]),s("div",ws,[e.isLoading?(t(),o("div",Ds)):i("",!0),e.isLoading?i("",!0):(t(),o("span",Vs,v(e.configinfos.deviceDownCount)+" total",1))])])])]),s("div",Rs,[s("div",Is,[Ps,s("div",Es,[s("div",Hs,[d(c,{to:"/device/view/configs/0?id=0&status=all"},{default:u(()=>[g("Config Files")]),_:1})]),s("div",Ns,[e.isLoading?(t(),o("div",Os)):i("",!0),e.isLoading?i("",!0):(t(),o("span",Ms,v(e.configinfos.configTotalCount)+" total",1))])])])]),s("div",Fs,[s("div",js,[As,s("div",Bs,[s("div",Gs,[d(c,{to:"/device/view/configs/0?id=0&status=0"},{default:u(()=>[g("Failed Configs")]),_:1})]),s("div",Qs,[e.isLoading?(t(),o("div",Ts)):i("",!0),e.isLoading?i("",!0):(t(),o("span",zs,v(e.configinfos.configDownCount)+" total",1))])])])])])])])}const Ys=x(ss,[["render",Us]]),qs={props:{},setup(f){const n=m(!0),a=m(!1),e=L([]),_=m(0),r=S("create-notification");b(()=>{l()});function c(){console.log("refreshing environment details..."),a.value=!0,l()}function l(){n.value=!0,axios.get("/api/dashboard/health-latest").then($=>{Object.assign(e,$.data.data);var y=e.filter(k=>k.notificationMessage.toLowerCase().includes("failed")),C=e.filter(k=>k.notificationMessage.toLowerCase().includes("warning"));(y.length>0||C.length>0)&&(_.value=y.length),a.value=!1,n.value=!1}).catch($=>{r({type:"danger",title:"Error",message:$.response})})}return{failedItems:_,healthChecks:e,isLoading:n,isRefreshing:a,refreshData:c}}},Js={class:"pf-c-card"},Ks={class:"pf-c-card__header"},Ws={class:"pf-c-card__actions"},Xs={class:"pf-c-button__icon"},Zs={key:0,class:"fas fa-redo","aria-hidden":"true"},se={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},ee=s("span",{class:"pf-c-spinner__clipper"},null,-1),te=s("span",{class:"pf-c-spinner__lead-ball"},null,-1),ie=s("span",{class:"pf-c-spinner__tail-ball"},null,-1),oe=[ee,te,ie],ne=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Environment Status")],-1),ce={class:"pf-c-card__body"},ae={key:0,class:"pf-c-skeleton"},le={key:1,class:"pf-l-grid pf-m-all-6-col-on-sm pf-m-all-3-col-on-lg pf-m-gutter"},_e={class:"pf-l-flex pf-m-space-items-sm"},de={class:"pf-l-flex__item"},re={key:0,class:"fas fa-check-circle pf-u-success-color-100"},fe={key:1,class:"fas fa-exclamation-triangle pf-u-warning-color-100"},pe={key:2,class:"fas fa-exclamation-circle pf-u-danger-color-100"},me={class:"pf-l-flex__item"},ue={class:"pf-l-flex__item pf-u-font-size-sm"},he={class:"pf-u-color-300"},ge={key:0},ve={key:0,class:"pf-c-divider"},$e={key:1,class:"pf-c-card__footer",style:{"padding-top":"10px","padding-bottom":"10px"}};function xe(f,n,a,e,_,r){const c=p("router-link");return t(),o("div",Js,[s("div",Ks,[s("div",Ws,[s("button",{class:"pf-c-button pf-m-plain",onClick:n[0]||(n[0]=l=>e.refreshData())},[s("span",Xs,[e.isRefreshing?i("",!0):(t(),o("i",Zs)),e.isRefreshing?(t(),o("span",se,oe)):i("",!0)])])]),ne]),s("div",ce,[e.isLoading?(t(),o("div",ae)):i("",!0),e.isLoading?i("",!0):(t(),o("div",le,[(t(!0),o(V,null,R(e.healthChecks,l=>(t(),o("div",{class:"pf-l-grid__item",key:l.name},[s("div",_e,[s("div",de,[l.notificationMessage==="ok"?(t(),o("i",re)):i("",!0),l.notificationMessage==="warning"?(t(),o("i",fe)):i("",!0),l.notificationMessage==="failed"?(t(),o("i",pe)):i("",!0)]),s("div",me,[s("span",null,v(l.label),1)]),s("div",ue,[s("span",he,[g(v(l.status)+" ",1),l.shortSummary!=""?(t(),o("span",ge," - "+v(l.shortSummary),1)):i("",!0)])])])]))),128))]))]),e.failedItems!=0?(t(),o("hr",ve)):i("",!0),e.failedItems!=0?(t(),o("div",$e,[d(c,{to:"/settings/overview"},{default:u(()=>[g("View Help")]),_:1})])):i("",!0)])}const ke=x(qs,[["render",xe]]),ye={props:{},components:{HelpContent:I},setup(f,{emit:n}){function a(){localStorage.setItem("rconfig.dashboardHelpCardShow",!1),n("removeDashboardHelpCard")}return{removeDashboardHelpCard:a}}},be={class:"pf-c-card pf-m-expanded"},Ce={class:"pf-c-card__header"},Le={class:"pf-c-card__actions"},Se=s("span",{class:"pf-c-button__icon"},[s("i",{class:"fas fa-times","aria-hidden":"true"})],-1),we=[Se],De=s("div",{class:"pf-c-card__title"},"Getting started with V6 Core",-1);function Ve(f,n,a,e,_,r){const c=p("help-content");return t(),o("div",be,[s("div",Ce,[s("div",Le,[s("button",{class:"pf-c-button pf-m-plain",onClick:n[0]||(n[0]=l=>e.removeDashboardHelpCard()),alt:"Click to remove this help card from the dashboard!",title:"Click to remove this help card from the dashboard!",style:{cursor:"help"}},we)]),De]),d(c)])}const Re=x(ye,[["render",Ve]]),Ie={props:{},components:{DeviceViewDeviceDetailsDescr:E},setup(f){const n=L({}),a=m(!1),e=m(!1);b(()=>{r()});function _(){console.log("refreshing server details..."),a.value=!0,r()}function r(){e.value=!0,axios.get("/api/dashboard/sysinfo").then(c=>{Object.assign(n,c.data),a.value=!1,e.value=!1})}return{sysinfo:n,refreshData:_,isRefreshing:a,isLoading:e}}},Pe={class:"pf-c-card"},Ee={class:"pf-c-card__header"},He={class:"pf-c-card__actions"},Ne={class:"pf-c-button__icon"},Oe={key:0,class:"fas fa-redo","aria-hidden":"true"},Me={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},Fe=s("span",{class:"pf-c-spinner__clipper"},null,-1),je=s("span",{class:"pf-c-spinner__lead-ball"},null,-1),Ae=s("span",{class:"pf-c-spinner__tail-ball"},null,-1),Be=[Fe,je,Ae],Ge=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"System Details")],-1),Qe={class:"pf-c-card__body"},Te={class:"pf-c-description-list"},ze={class:"pf-c-description-list__group"},Ue=s("dt",{class:"pf-c-description-list__term"},"OS VERSION",-1),Ye={key:0,class:"pf-c-skeleton"},qe={class:"pf-c-description-list__group"},Je=s("dt",{class:"pf-c-description-list__term"},"SERVERNAME",-1),Ke={key:0,class:"pf-c-skeleton"},We={class:"pf-c-description-list__group"},Xe=s("dt",{class:"pf-c-description-list__term"},"LOCAL IP",-1),Ze={key:0,class:"pf-c-skeleton"},st={class:"pf-c-description-list__group"},et=s("dt",{class:"pf-c-description-list__term"},"PUBLIC IP",-1),tt={key:0,class:"pf-c-skeleton"},it={class:"pf-c-description-list__group"},ot=s("dt",{class:"pf-c-description-list__term"},"PHP / LARAVEL VERSION",-1),nt={key:0,class:"pf-c-skeleton"},ct={class:"pf-c-description-list__group"},at=s("dt",{class:"pf-c-description-list__term"},"REDIS VERSION",-1),lt={key:0,class:"pf-c-skeleton"},_t={class:"pf-c-description-list__group"},dt=s("dt",{class:"pf-c-description-list__term"},"MYSQL VERSION",-1),rt={key:0,class:"pf-c-skeleton"},ft=s("hr",{class:"pf-c-divider"},null,-1),pt={class:"pf-c-card__footer"};function mt(f,n,a,e,_,r){const c=p("device-view-device-details-descr"),l=p("router-link");return t(),o("div",Pe,[s("div",Ee,[s("div",He,[s("button",{class:"pf-c-button pf-m-plain",onClick:n[0]||(n[0]=$=>e.refreshData())},[s("span",Ne,[e.isRefreshing?i("",!0):(t(),o("i",Oe)),e.isRefreshing?(t(),o("span",Me,Be)):i("",!0)])])]),Ge]),s("div",Qe,[s("dl",Te,[s("div",ze,[Ue,e.isLoading?(t(),o("div",Ye)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.OSVersion},null,8,["text"]))]),s("div",qe,[Je,e.isLoading?(t(),o("div",Ke)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.ServerName},null,8,["text"]))]),s("div",We,[Xe,e.isLoading?(t(),o("div",Ze)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.localIp},null,8,["text"]))]),s("div",st,[et,e.isLoading?(t(),o("div",tt)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.PublicIP},null,8,["text"]))]),s("div",it,[ot,e.isLoading?(t(),o("div",nt)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.PHPVersion},null,8,["text"]))]),s("div",ct,[at,e.isLoading?(t(),o("div",lt)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.RedisVersion},null,8,["text"]))]),s("div",_t,[dt,e.isLoading?(t(),o("div",rt)):i("",!0),e.isLoading?i("",!0):(t(),h(c,{key:1,text:e.sysinfo.MySQLVersion},null,8,["text"]))])])]),ft,s("div",pt,[d(l,{to:"/settings/overview"},{default:u(()=>[g("View Settings")]),_:1})])])}const ut=x(Ie,[["render",mt]]),ht={components:{CommonActionsMenu:Z,ConfigStatusCard:Ys,EnvStatusCard:ke,GettingStarted:Re,PageHeader:P,ServerDetails:ut},setup(){const f=m("Dashboard"),n=m("Overview of rConfig activity and statistics"),a=m(!0);return b(()=>{a.value=localStorage.getItem("rconfig.dashboardHelpCardShow")}),{pagename:f,pagedesc:n,gettingStartedShow:a}}},gt={class:"pf-c-page__main",tabindex:"-1"},vt=s("div",{class:"pf-c-divider",role:"separator"},null,-1),$t={class:"pf-c-page__main-section pf-m-no-padding"},xt={class:"pf-c-drawer pf-m-expanded pf-m-inline-on-2xl"},kt={class:"pf-c-drawer__main"},yt={class:"pf-c-drawer__content pf-m-no-background"},bt={class:"pf-c-drawer__body pf-m-padding"},Ct={class:"pf-l-grid pf-m-gutter"},Lt={class:"pf-l-grid__item pf-m-12-col pf-m-3-col-on-md"},St={class:"pf-l-grid__item pf-m-12-col pf-m-6-col-on-md"};function wt(f,n,a,e,_,r){const c=p("page-header"),l=p("server-details"),$=p("config-status-card"),y=p("env-status-card"),C=p("getting-started"),k=p("common-actions-menu");return t(),o("main",gt,[d(c,{pagename:e.pagename,desc:e.pagedesc},null,8,["pagename","desc"]),vt,s("section",$t,[s("div",xt,[s("div",kt,[s("div",yt,[s("div",bt,[s("div",Ct,[s("div",Lt,[d(l)]),s("div",St,[d($),d(y,{class:"pf-u-mt-md"}),e.gettingStartedShow!=="false"?(t(),h(C,{key:0,onRemoveDashboardHelpCard:n[0]||(n[0]=Dt=>e.gettingStartedShow="false"),class:"pf-u-mt-md pf-l-grid__item pf-m-all-6-col-on-sm pf-m-all-4-col-on-md pf-m-all-2-col-on-lg pf-m-all-1-col-on-xl"})):i("",!0)]),d(k,{class:"pf-l-grid__item pf-m-12-col pf-m-3-col-on-md"})])])])])])])])}const Nt=x(ht,[["render",wt]]);export{Nt as default};
