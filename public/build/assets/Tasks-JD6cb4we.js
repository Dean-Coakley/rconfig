import{_ as X,f as C,J as he,m as le,o as d,c as h,a as e,B as Z,p as F,h as w,e as I,g as B,t as M,b as j,F as W,k as Y,i as oe,r as T,K as ve,w as R,j as L,n as $,L as G,y as q,v as N,M as ee,d as H,N as ge,q as U,l as S,O as ye,u as we,G as be}from"./app-_cjOT05D.js";import{D as ke}from"./DataTable-AyzS1m_V.js";import{a as Te,b as Oe}from"./DeleteModal-ZdrKnvCi.js";import{L as K}from"./LoadingSpinner-HcJ2r_wK.js";import{P as xe}from"./PageHeader-pdESKEfy.js";import{S as ze}from"./SideDrawer-o0BZJHFv.js";import{a as ce,u as Se}from"./ViewFunctions-QkJbCJLB.js";import{M as ae,u as se}from"./MultiSelect-oYuYhTF8.js";/* empty css            */import"./DataTableToolbar-_JXd-XvI.js";import"./DataTableSpinner-gbBX5NvQ.js";const Ce={props:{},setup(r,{emit:o}){const n=C(null),t=he();le(n,v=>g());function g(){o("closeModal")}function b(){o("action1"),g()}function i(){o("action3")}return{slots:t,close:g,action1:b,action3:i,clickOutsidetargetConfirmModal:n}}},De={class:"pf-c-backdrop"},Me={class:"pf-l-bullseye"},Ee={class:"pf-c-modal-box pf-m-sm",ref:"clickOutsidetargetConfirmModal"},Pe=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),$e=[Pe],Xe={class:"pf-c-modal-box__header"},je={class:"pf-c-modal-box__title",id:"modal-md-title"},Ae={class:"pf-c-modal-box__body"},Le={id:"modal-md-description"},Re={class:"pf-c-modal-box__footer"};function Fe(r,o,n,t,g,b){return d(),h("div",De,[e("div",Me,[e("div",Ee,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(...i)=>t.close&&t.close(...i))},$e),e("header",Xe,[e("h1",je,[Z(r.$slots,"title")])]),e("div",Ae,[e("p",Le,[Z(r.$slots,"question")])]),e("footer",Re,[e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=F((...i)=>t.action1&&t.action1(...i),["prevent"]))},[Z(r.$slots,"action1")]),t.slots.action2?(d(),h("button",{key:0,class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=F((...i)=>t.close&&t.close(...i),["prevent"]))},[Z(r.$slots,"action2")])):w("",!0),t.slots.action3?(d(),h("button",{key:1,class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=F((...i)=>t.action3&&t.action3(...i),["prevent"]))},[Z(r.$slots,"action3")])):w("",!0)])],512)])])}const Ue=X(Ce,[["render",Fe]]),Ie={props:{task_id:{type:Number,default:0}},components:{LoadingSpinner:K,DataTablePaginate:Te},emits:["close","saveColumns"],setup(r,{emit:o}){const n=C(null),t=oe("create-notification"),g=I({}),b=C(!1),i=C(1),v=oe("formatTime");le(n,k=>O()),B(()=>{_()});function _(){b.value=!0,axios.get("/api/tasks/monitored/"+r.task_id+"/?page="+i.value).then(k=>{Object.assign(g,k),b.value=!1}).catch(k=>{t({type:"danger",title:"Error",message:k.response.data.message}),b.value=!1})}function l(k){console.log(k),i.value=k.page,console.log(i),_()}const O=()=>{o("close")};return{clickOutsidetargetTaskHist:n,close:O,formatTime:v,isLoading:b,pageChanged:l,task_history_items:g}}},We={class:"pf-c-backdrop"},He={class:"pf-l-bullseye"},Ve={class:"pf-c-modal-box pf-m-lg",ref:"clickOutsidetargetTaskHist"},Ne=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Ge=[Ne],qe={class:"pf-c-modal-box__header"},Be={class:"pf-c-modal-box__title",id:"modal-title"},Ye=e("div",{class:"pf-c-modal-box__description"},[e("div",{class:"pf-c-content"},[e("p",null,"View all runs for this task in the table below")])],-1),Je={class:"pf-c-modal-box__body",id:"modal-description"},Ze={key:0},Ke={key:0},Qe={class:"pf-c-empty-state"},et={class:"pf-c-empty-state__content"},tt=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),ot=e("h1",{class:"pf-c-title pf-m-lg"},"Task history empty",-1),nt=e("div",{class:"pf-c-empty-state__body"},"Task history not available, you may need to run the task to have some history!",-1),at={key:1},st={class:"pf-c-table pf-m-compact pf-m-grid-md",role:"grid"},it=e("thead",null,[e("tr",{role:"row"},[e("th",{role:"columnheader",scope:"col"},"Task ID"),e("th",{role:"columnheader",scope:"col"},"Monitored task id"),e("th",{role:"columnheader",scope:"col"},"Type"),e("th",{role:"columnheader",scope:"col"},"Command"),e("th",{role:"columnheader",scope:"col"},"Time"),e("td"),e("td")])],-1),rt={role:"rowgroup"},lt={role:"cell","data-label":"Position"},ct={role:"cell","data-label":"Position"},dt={role:"cell","data-label":"Position"},pt={role:"cell","data-label":"Position"},_t={role:"cell","data-label":"Position"},ft={class:"pf-c-modal-box__footer"};function ut(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("data-table-paginate");return d(),h("div",We,[e("div",He,[e("div",Ve,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(..._)=>t.close&&t.close(..._))},Ge),e("header",qe,[e("h1",Be,"Task history for ID: "+M(n.task_id),1),Ye]),e("div",Je,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),!t.isLoading&&Object.keys(t.task_history_items).length>0?(d(),h("div",Ze,[t.task_history_items.data.total===0?(d(),h("div",Ke,[e("div",Qe,[e("div",et,[tt,ot,nt,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=(..._)=>t.close&&t.close(..._))},"Close")])])])):w("",!0),t.task_history_items.data.total>0?(d(),h("div",at,[e("table",st,[it,e("tbody",rt,[(d(!0),h(W,null,Y(t.task_history_items.data.data,_=>(d(),h("tr",{role:"row",key:_.id},[e("td",lt,M(_.task_id),1),e("td",ct,M(_.monitored_scheduled_task_id),1),e("td",dt,M(_.type),1),e("td",pt,M(_.meta),1),e("td",_t,M(t.formatTime(_.created_at)),1)]))),128))])]),j(v,{from:t.task_history_items.data.from,to:t.task_history_items.data.to,total:t.task_history_items.data.total,current_page:t.task_history_items.data.current_page,last_page:t.task_history_items.data.last_page,onPagechanged:o[2]||(o[2]=_=>t.pageChanged(_))},null,8,["from","to","total","current_page","last_page"])])):w("",!0)])):w("",!0)]),e("footer",ft,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=(..._)=>t.close&&t.close(..._))},"Close")])],512)])])}const mt=X(Ie,[["render",ut]]),ht={props:{},setup(r,{emit:o}){function n(){o("closeModal")}function t(){o("action1"),n()}return{close:n,action1:t}}},vt={class:"pf-c-backdrop"},gt={class:"pf-l-bullseye"},yt={class:"pf-c-modal-box",style:{"--pf-c-modal-box--Width":"80rem"}};function wt(r,o,n,t,g,b){return d(),h("div",vt,[e("div",gt,[e("div",yt,[Z(r.$slots,"wizard")])])])}const bt=X(ht,[["render",wt]]);var de={exports:{}};(function(r,o){(function(t,g){r.exports=g()})(globalThis,()=>(()=>{var n={794:(i,v,_)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CronParser=void 0;var l=_(586),O=function(){function k(s,a,p){a===void 0&&(a=!0),p===void 0&&(p=!1),this.expression=s,this.dayOfWeekStartIndexZero=a,this.monthStartIndexZero=p}return k.prototype.parse=function(){var s=this.extractParts(this.expression);return this.normalize(s),this.validate(s),s},k.prototype.extractParts=function(s){if(!this.expression)throw new Error("cron expression is empty");for(var a=s.trim().split(/[ ]+/),p=0;p<a.length;p++)if(a[p].includes(",")){var c=a[p].split(",").map(function(m){return m.trim()}).filter(function(m){return m!==""}).map(function(m){return isNaN(Number(m))?m:Number(m)}).filter(function(m){return m!==null&&m!==""});c.length===0&&c.push("*"),c.sort(function(m,y){return m!==null&&y!==null?m-y:0}),a[p]=c.map(function(m){return m!==null?m.toString():""}).join(",")}if(a.length<5)throw new Error("Expression has only ".concat(a.length," part").concat(a.length==1?"":"s",". At least 5 parts are required."));if(a.length==5)a.unshift(""),a.push("");else if(a.length==6){var f=/\d{4}$/.test(a[5])||a[4]=="?"||a[2]=="?";f?a.unshift(""):a.push("")}else if(a.length>7)throw new Error("Expression has ".concat(a.length," parts; too many!"));return a},k.prototype.normalize=function(s){var a=this;if(s[3]=s[3].replace("?","*"),s[5]=s[5].replace("?","*"),s[2]=s[2].replace("?","*"),s[0].indexOf("0/")==0&&(s[0]=s[0].replace("0/","*/")),s[1].indexOf("0/")==0&&(s[1]=s[1].replace("0/","*/")),s[2].indexOf("0/")==0&&(s[2]=s[2].replace("0/","*/")),s[3].indexOf("1/")==0&&(s[3]=s[3].replace("1/","*/")),s[4].indexOf("1/")==0&&(s[4]=s[4].replace("1/","*/")),s[6].indexOf("1/")==0&&(s[6]=s[6].replace("1/","*/")),s[5]=s[5].replace(/(^\d)|([^#/\s]\d)/g,function(z){var D=z.replace(/\D/,""),x=D;return a.dayOfWeekStartIndexZero?D=="7"&&(x="0"):x=(parseInt(D)-1).toString(),z.replace(D,x)}),s[5]=="L"&&(s[5]="6"),s[3]=="?"&&(s[3]="*"),s[3].indexOf("W")>-1&&(s[3].indexOf(",")>-1||s[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var p={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var c in p)s[5]=s[5].replace(new RegExp(c,"gi"),p[c].toString());s[4]=s[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(z){var D=z.replace(/\D/,""),x=D;return a.monthStartIndexZero&&(x=(parseInt(D)+1).toString()),z.replace(D,x)});var f={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var m in f)s[4]=s[4].replace(new RegExp(m,"gi"),f[m].toString());s[0]=="0"&&(s[0]=""),!/\*|\-|\,|\//.test(s[2])&&(/\*|\//.test(s[1])||/\*|\//.test(s[0]))&&(s[2]+="-".concat(s[2]));for(var y=0;y<s.length;y++)if(s[y].indexOf(",")!=-1&&(s[y]=s[y].split(",").filter(function(z){return z!==""}).join(",")||"*"),s[y]=="*/1"&&(s[y]="*"),s[y].indexOf("/")>-1&&!/^\*|\-|\,/.test(s[y])){var u=null;switch(y){case 4:u="12";break;case 5:u="6";break;case 6:u="9999";break;default:u=null;break}if(u!==null){var E=s[y].split("/");s[y]="".concat(E[0],"-").concat(u,"/").concat(E[1])}}},k.prototype.validate=function(s){this.assertNoInvalidCharacters("DOW",s[5]),this.assertNoInvalidCharacters("DOM",s[3]),this.validateRange(s)},k.prototype.validateRange=function(s){l.default.secondRange(s[0]),l.default.minuteRange(s[1]),l.default.hourRange(s[2]),l.default.dayOfMonthRange(s[3]),l.default.monthRange(s[4],this.monthStartIndexZero),l.default.dayOfWeekRange(s[5],this.dayOfWeekStartIndexZero)},k.prototype.assertNoInvalidCharacters=function(s,a){var p=a.match(/[A-KM-VX-Z]+/gi);if(p&&p.length)throw new Error("".concat(s," part contains invalid values: '").concat(p.toString(),"'"))},k}();v.CronParser=O},728:(i,v,_)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ExpressionDescriptor=void 0;var l=_(910),O=_(794),k=function(){function s(a,p){if(this.expression=a,this.options=p,this.expressionParts=new Array(5),!this.options.locale&&s.defaultLocale&&(this.options.locale=s.defaultLocale),!s.locales[this.options.locale]){var c=Object.keys(s.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(c,"'.")),this.options.locale=c}this.i18n=s.locales[this.options.locale],p.use24HourTimeFormat===void 0&&(p.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return s.toString=function(a,p){var c=p===void 0?{}:p,f=c.throwExceptionOnParseError,m=f===void 0?!0:f,y=c.verbose,u=y===void 0?!1:y,E=c.dayOfWeekStartIndexZero,z=E===void 0?!0:E,D=c.monthStartIndexZero,x=D===void 0?!1:D,A=c.use24HourTimeFormat,P=c.locale,V=P===void 0?null:P,J=c.tzOffset,te=J===void 0?0:J,Q={throwExceptionOnParseError:m,verbose:u,dayOfWeekStartIndexZero:z,monthStartIndexZero:x,use24HourTimeFormat:A,locale:V,tzOffset:te},me=new s(a,Q);return me.getFullDescription()},s.initialize=function(a,p){p===void 0&&(p="en"),s.specialCharacters=["/","-",",","*"],s.defaultLocale=p,a.load(s.locales)},s.prototype.getFullDescription=function(){var a="";try{var p=new O.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=p.parse();var c=this.getTimeOfDayDescription(),f=this.getDayOfMonthDescription(),m=this.getMonthDescription(),y=this.getDayOfWeekDescription(),u=this.getYearDescription();a+=c+f+y+m+u,a=this.transformVerbosity(a,!!this.options.verbose),a=a.charAt(0).toLocaleUpperCase()+a.substr(1)}catch(E){if(!this.options.throwExceptionOnParseError)a=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(E)}return a},s.prototype.getTimeOfDayDescription=function(){var a=this.expressionParts[0],p=this.expressionParts[1],c=this.expressionParts[2],f="";if(!l.StringUtilities.containsAny(p,s.specialCharacters)&&!l.StringUtilities.containsAny(c,s.specialCharacters)&&!l.StringUtilities.containsAny(a,s.specialCharacters))f+=this.i18n.atSpace()+this.formatTime(c,p,a);else if(!a&&p.indexOf("-")>-1&&!(p.indexOf(",")>-1)&&!(p.indexOf("/")>-1)&&!l.StringUtilities.containsAny(c,s.specialCharacters)){var m=p.split("-");f+=l.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(c,m[0],""),this.formatTime(c,m[1],""))}else if(!a&&c.indexOf(",")>-1&&c.indexOf("-")==-1&&c.indexOf("/")==-1&&!l.StringUtilities.containsAny(p,s.specialCharacters)){var y=c.split(",");f+=this.i18n.at();for(var u=0;u<y.length;u++)f+=" ",f+=this.formatTime(y[u],p,""),u<y.length-2&&(f+=","),u==y.length-2&&(f+=this.i18n.spaceAnd())}else{var E=this.getSecondsDescription(),z=this.getMinutesDescription(),D=this.getHoursDescription();if(f+=E,f&&z&&(f+=", "),f+=z,z===D)return f;f&&D&&(f+=", "),f+=D}return f},s.prototype.getSecondsDescription=function(){var a=this,p=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(c){return c},function(c){return l.StringUtilities.format(a.i18n.everyX0Seconds(c),c)},function(c){return a.i18n.secondsX0ThroughX1PastTheMinute()},function(c){return c=="0"?"":parseInt(c)<20?a.i18n.atX0SecondsPastTheMinute(c):a.i18n.atX0SecondsPastTheMinuteGt20()||a.i18n.atX0SecondsPastTheMinute(c)});return p},s.prototype.getMinutesDescription=function(){var a=this,p=this.expressionParts[0],c=this.expressionParts[2],f=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(m){return m},function(m){return l.StringUtilities.format(a.i18n.everyX0Minutes(m),m)},function(m){return a.i18n.minutesX0ThroughX1PastTheHour()},function(m){try{return m=="0"&&c.indexOf("/")==-1&&p==""?a.i18n.everyHour():parseInt(m)<20?a.i18n.atX0MinutesPastTheHour(m):a.i18n.atX0MinutesPastTheHourGt20()||a.i18n.atX0MinutesPastTheHour(m)}catch{return a.i18n.atX0MinutesPastTheHour(m)}});return f},s.prototype.getHoursDescription=function(){var a=this,p=this.expressionParts[2],c=this.getSegmentDescription(p,this.i18n.everyHour(),function(y){return a.formatTime(y,"0","")},function(y){return l.StringUtilities.format(a.i18n.everyX0Hours(y),y)},function(y){return a.i18n.betweenX0AndX1()},function(y){return a.i18n.atX0()});if(c&&p.includes("-")&&this.expressionParts[1]!="0"){var f=Array.from(c.matchAll(/:00/g));if(f.length>1){var m=f[f.length-1].index;c=c.substring(0,m)+":59"+c.substring(m+3)}}return c},s.prototype.getDayOfWeekDescription=function(){var a=this,p=this.i18n.daysOfTheWeek(),c=null;return this.expressionParts[5]=="*"?c="":c=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(f,m){var y=f;f.indexOf("#")>-1?y=f.substring(0,f.indexOf("#")):f.indexOf("L")>-1&&(y=y.replace("L",""));var u=parseInt(y);if(a.options.tzOffset){var E=a.expressionParts[2],z=parseInt(E)+(a.options.tzOffset?a.options.tzOffset:0);z>=24?u++:z<0&&u--,u>6?u=0:u<0&&(u=6)}var D=a.i18n.daysOfTheWeekInCase?a.i18n.daysOfTheWeekInCase(m)[u]:p[u];if(f.indexOf("#")>-1){var x=null,A=f.substring(f.indexOf("#")+1),P=f.substring(0,f.indexOf("#"));switch(A){case"1":x=a.i18n.first(P);break;case"2":x=a.i18n.second(P);break;case"3":x=a.i18n.third(P);break;case"4":x=a.i18n.fourth(P);break;case"5":x=a.i18n.fifth(P);break}D=x+" "+D}return D},function(f){return parseInt(f)==1?"":l.StringUtilities.format(a.i18n.commaEveryX0DaysOfTheWeek(f),f)},function(f){var m=f.substring(0,f.indexOf("-")),y=a.expressionParts[3]!="*";return y?a.i18n.commaAndX0ThroughX1(m):a.i18n.commaX0ThroughX1(m)},function(f){var m=null;if(f.indexOf("#")>-1){var y=f.substring(f.indexOf("#")+1);m=a.i18n.commaOnThe(y).trim()+a.i18n.spaceX0OfTheMonth()}else if(f.indexOf("L")>-1)m=a.i18n.commaOnTheLastX0OfTheMonth(f.replace("L",""));else{var u=a.expressionParts[3]!="*";m=u?a.i18n.commaAndOnX0():a.i18n.commaOnlyOnX0(f)}return m}),c},s.prototype.getMonthDescription=function(){var a=this,p=this.i18n.monthsOfTheYear(),c=this.getSegmentDescription(this.expressionParts[4],"",function(f,m){return m&&a.i18n.monthsOfTheYearInCase?a.i18n.monthsOfTheYearInCase(m)[parseInt(f)-1]:p[parseInt(f)-1]},function(f){return parseInt(f)==1?"":l.StringUtilities.format(a.i18n.commaEveryX0Months(f),f)},function(f){return a.i18n.commaMonthX0ThroughMonthX1()||a.i18n.commaX0ThroughX1()},function(f){return a.i18n.commaOnlyInMonthX0?a.i18n.commaOnlyInMonthX0():a.i18n.commaOnlyInX0()});return c},s.prototype.getDayOfMonthDescription=function(){var a=this,p=null,c=this.expressionParts[3];switch(c){case"L":p=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":p=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var f=c.match(/(\d{1,2}W)|(W\d{1,2})/);if(f){var m=parseInt(f[0].replace("W","")),y=m==1?this.i18n.firstWeekday():l.StringUtilities.format(this.i18n.weekdayNearestDayX0(),m.toString());p=l.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),y);break}else{var u=c.match(/L-(\d{1,2})/);if(u){var E=u[1];p=l.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(E),E);break}else{if(c=="*"&&this.expressionParts[5]!="*")return"";p=this.getSegmentDescription(c,this.i18n.commaEveryDay(),function(z){return z=="L"?a.i18n.lastDay():a.i18n.dayX0?l.StringUtilities.format(a.i18n.dayX0(),z):z},function(z){return z=="1"?a.i18n.commaEveryDay():a.i18n.commaEveryX0Days(z)},function(z){return a.i18n.commaBetweenDayX0AndX1OfTheMonth(z)},function(z){return a.i18n.commaOnDayX0OfTheMonth(z)})}break}}return p},s.prototype.getYearDescription=function(){var a=this,p=this.getSegmentDescription(this.expressionParts[6],"",function(c){return/^\d+$/.test(c)?new Date(parseInt(c),1).getFullYear().toString():c},function(c){return l.StringUtilities.format(a.i18n.commaEveryX0Years(c),c)},function(c){return a.i18n.commaYearX0ThroughYearX1()||a.i18n.commaX0ThroughX1()},function(c){return a.i18n.commaOnlyInYearX0?a.i18n.commaOnlyInYearX0():a.i18n.commaOnlyInX0()});return p},s.prototype.getSegmentDescription=function(a,p,c,f,m,y){var u=null,E=a.indexOf("/")>-1,z=a.indexOf("-")>-1,D=a.indexOf(",")>-1;if(!a)u="";else if(a==="*")u=p;else if(!E&&!z&&!D)u=l.StringUtilities.format(y(a),c(a));else if(D){for(var x=a.split(","),A="",P=0;P<x.length;P++)if(P>0&&x.length>2&&(A+=",",P<x.length-1&&(A+=" ")),P>0&&x.length>1&&(P==x.length-1||x.length==2)&&(A+="".concat(this.i18n.spaceAnd()," ")),x[P].indexOf("/")>-1||x[P].indexOf("-")>-1){var V=x[P].indexOf("-")>-1&&x[P].indexOf("/")==-1,J=this.getSegmentDescription(x[P],p,c,f,V?this.i18n.commaX0ThroughX1:m,y);V&&(J=J.replace(", ","")),A+=J}else E?A+=this.getSegmentDescription(x[P],p,c,f,m,y):A+=c(x[P]);E?u=A:u=l.StringUtilities.format(y(a),A)}else if(E){var x=a.split("/");if(u=l.StringUtilities.format(f(x[1]),x[1]),x[0].indexOf("-")>-1){var te=this.generateRangeSegmentDescription(x[0],m,c);te.indexOf(", ")!=0&&(u+=", "),u+=te}else if(x[0].indexOf("*")==-1){var Q=l.StringUtilities.format(y(x[0]),c(x[0]));Q=Q.replace(", ",""),u+=l.StringUtilities.format(this.i18n.commaStartingX0(),Q)}}else z&&(u=this.generateRangeSegmentDescription(a,m,c));return u},s.prototype.generateRangeSegmentDescription=function(a,p,c){var f="",m=a.split("-"),y=c(m[0],1),u=c(m[1],2),E=p(a);return f+=l.StringUtilities.format(E,y,u),f},s.prototype.formatTime=function(a,p,c){var f=0,m=0;this.options.tzOffset&&(f=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),m=parseFloat((this.options.tzOffset%1).toFixed(2)),m!=0&&(m*=60));var y=parseInt(a)+f,u=parseInt(p)+m;u>=60?(u-=60,y+=1):u<0&&(u+=60,y-=1),y>=24?y=y-24:y<0&&(y=24+y);var E="",z=!1;this.options.use24HourTimeFormat||(z=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),E=z?"".concat(this.getPeriod(y)," "):" ".concat(this.getPeriod(y)),y>12&&(y-=12),y===0&&(y=12));var D="";return c&&(D=":".concat(("00"+c).substring(c.length))),"".concat(z?E:"").concat(("00"+y.toString()).substring(y.toString().length),":").concat(("00"+u.toString()).substring(u.toString().length)).concat(D).concat(z?"":E)},s.prototype.transformVerbosity=function(a,p){return p||(a=a.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),a=a.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),a=a.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),a=a.replace(/\, ?$/,"")),a},s.prototype.getPeriod=function(a){return a>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},s.locales={},s}();v.ExpressionDescriptor=k},336:(i,v,_)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.enLocaleLoader=void 0;var l=_(751),O=function(){function k(){}return k.prototype.load=function(s){s.en=new l.en},k}();v.enLocaleLoader=O},751:(i,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.en=void 0;var _=function(){function l(){}return l.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},l.prototype.atX0MinutesPastTheHourGt20=function(){return null},l.prototype.commaMonthX0ThroughMonthX1=function(){return null},l.prototype.commaYearX0ThroughYearX1=function(){return null},l.prototype.use24HourTimeFormatByDefault=function(){return!1},l.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},l.prototype.everyMinute=function(){return"every minute"},l.prototype.everyHour=function(){return"every hour"},l.prototype.atSpace=function(){return"At "},l.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},l.prototype.at=function(){return"At"},l.prototype.spaceAnd=function(){return" and"},l.prototype.everySecond=function(){return"every second"},l.prototype.everyX0Seconds=function(){return"every %s seconds"},l.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},l.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},l.prototype.everyX0Minutes=function(){return"every %s minutes"},l.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},l.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},l.prototype.everyX0Hours=function(){return"every %s hours"},l.prototype.betweenX0AndX1=function(){return"between %s and %s"},l.prototype.atX0=function(){return"at %s"},l.prototype.commaEveryDay=function(){return", every day"},l.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},l.prototype.commaX0ThroughX1=function(){return", %s through %s"},l.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},l.prototype.first=function(){return"first"},l.prototype.second=function(){return"second"},l.prototype.third=function(){return"third"},l.prototype.fourth=function(){return"fourth"},l.prototype.fifth=function(){return"fifth"},l.prototype.commaOnThe=function(){return", on the "},l.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},l.prototype.lastDay=function(){return"the last day"},l.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},l.prototype.commaOnlyOnX0=function(){return", only on %s"},l.prototype.commaAndOnX0=function(){return", and on %s"},l.prototype.commaEveryX0Months=function(){return", every %s months"},l.prototype.commaOnlyInX0=function(){return", only in %s"},l.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},l.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},l.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},l.prototype.firstWeekday=function(){return"first weekday"},l.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},l.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},l.prototype.commaEveryX0Days=function(){return", every %s days"},l.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},l.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},l.prototype.commaEveryHour=function(){return", every hour"},l.prototype.commaEveryX0Years=function(){return", every %s years"},l.prototype.commaStartingX0=function(){return", starting %s"},l.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},l}();v.en=_},586:(i,v)=>{Object.defineProperty(v,"__esModule",{value:!0});function _(O,k){if(!O)throw new Error(k)}var l=function(){function O(){}return O.secondRange=function(k){for(var s=k.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var p=parseInt(s[a],10);_(p>=0&&p<=59,"seconds part must be >= 0 and <= 59")}},O.minuteRange=function(k){for(var s=k.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var p=parseInt(s[a],10);_(p>=0&&p<=59,"minutes part must be >= 0 and <= 59")}},O.hourRange=function(k){for(var s=k.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var p=parseInt(s[a],10);_(p>=0&&p<=23,"hours part must be >= 0 and <= 23")}},O.dayOfMonthRange=function(k){for(var s=k.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var p=parseInt(s[a],10);_(p>=1&&p<=31,"DOM part must be >= 1 and <= 31")}},O.monthRange=function(k,s){for(var a=k.split(","),p=0;p<a.length;p++)if(!isNaN(parseInt(a[p],10))){var c=parseInt(a[p],10);_(c>=1&&c<=12,s?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},O.dayOfWeekRange=function(k,s){for(var a=k.split(","),p=0;p<a.length;p++)if(!isNaN(parseInt(a[p],10))){var c=parseInt(a[p],10);_(c>=0&&c<=6,s?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},O}();v.default=l},910:(i,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StringUtilities=void 0;var _=function(){function l(){}return l.format=function(O){for(var k=[],s=1;s<arguments.length;s++)k[s-1]=arguments[s];return O.replace(/%s/g,function(a){return k.shift()})},l.containsAny=function(O,k){return k.some(function(s){return O.indexOf(s)>-1})},l}();v.StringUtilities=_}},t={};function g(i){var v=t[i];if(v!==void 0)return v.exports;var _=t[i]={exports:{}};return n[i](_,_.exports,g),_.exports}var b={};return(()=>{var i=b;Object.defineProperty(i,"__esModule",{value:!0}),i.toString=void 0;var v=g(728),_=g(336);v.ExpressionDescriptor.initialize(new _.enLocaleLoader),i.default=v.ExpressionDescriptor;var l=v.ExpressionDescriptor.toString;i.toString=l})(),b})())})(de);var kt=de.exports;const ie=ve(kt);function re(){return{commands:I({1:{id:1,command:"rconfig:download-device",label:"Devices",description:"Get configs for one or many devices",categoryLabel:"Config Downloads",iconClass:"fa fa-th"},2:{id:2,command:"rconfig:download-category",label:"Categories",description:"Get configs for one or many categories",categoryLabel:"Config Downloads",iconClass:"fa fa-object-group"},3:{id:3,command:"rconfig:download-tag",label:"Tags",description:"Get configs for one or many tags",categoryLabel:"Config Downloads",iconClass:"fa fa-tag"}})}}const Tt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("device/all-device-names");function t(g){r.model.device=g}return{updateOptions:t,devices:o,isLoading:n}}},Ot={class:"pf-c-wizard__main-body"},xt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},zt={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"download_report_notify-switch-reverse-1"},St=e("span",{class:"pf-c-switch__toggle"},null,-1),Ct=e("span",{class:"pf-c-switch__label pf-m-on",id:"download_report_notify-switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Dt=e("span",{class:"pf-c-switch__label pf-m-off",id:"download_report_notify-switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Mt=e("br",null,null,-1),Et=e("br",null,null,-1),Pt={class:"pf-c-switch pf-m-reverse",for:"verbose_download_report_notify-switch-reverse-2"},$t=e("span",{class:"pf-c-switch__toggle"},null,-1),Xt=e("span",{class:"pf-c-switch__label pf-m-on",id:"verbose_download_report_notify-switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),jt=e("span",{class:"pf-c-switch__label pf-m-off",id:"verbose_download_report_notify-switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function At(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("multi-select");return d(),h("div",Ot,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?w("",!0):(d(),h("div",xt,[j(v,{options:t.devices,modelOptions:n.model.device,msLabel:"device_name",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=_=>t.updateOptions(_)),fieldType:"devices"},{"multi-select-label":R(()=>[L("Choose devices")]),"multi-select-subtext":R(()=>[L("Select one or more devices for this task.")]),_:1},8,["options","modelOptions"]),e("label",zt,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"download_report_notify-switch-reverse-1","aria-labelledby":"download_report_notify-switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=_=>n.model.download_report_notify=_)},null,512),[[G,n.model.download_report_notify]]),St,Ct,Dt]),Mt,Et,e("label",Pt,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"verbose_download_report_notify-switch-reverse-2","aria-labelledby":"verbose_download_report_notify-switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=_=>n.model.verbose_download_report_notify=_)},null,512),[[G,n.model.verbose_download_report_notify]]),$t,Xt,jt])]))])}const pe=X(Tt,[["render",At]]),Lt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("categories");function t(g){r.model.category=g}return{updateOptions:t,categories:o,isLoading:n}}},Rt={class:"pf-c-wizard__main-body"},Ft={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},Ut={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},It=e("span",{class:"pf-c-switch__toggle"},null,-1),Wt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Ht=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Vt=e("br",null,null,-1),Nt=e("br",null,null,-1),Gt={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},qt=e("span",{class:"pf-c-switch__toggle"},null,-1),Bt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),Yt=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function Jt(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("multi-select");return d(),h("div",Rt,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?w("",!0):(d(),h("div",Ft,[j(v,{options:t.categories,modelOptions:n.model.category,msLabel:"categoryName",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=_=>t.updateOptions(_)),fieldType:"categories"},{"multi-select-label":R(()=>[L("Choose categories")]),"multi-select-subtext":R(()=>[L("Select one or more categories for this task.")]),_:1},8,["options","modelOptions"]),e("label",Ut,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=_=>n.model.download_report_notify=_)},null,512),[[G,n.model.download_report_notify]]),It,Wt,Ht]),Vt,Nt,e("label",Gt,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=_=>n.model.verbose_download_report_notify=_)},null,512),[[G,n.model.verbose_download_report_notify]]),qt,Bt,Yt])]))])}const _e=X(Lt,[["render",Jt]]),Zt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("tags");function t(g){r.model.tag=g,r.model.task_tags=g}return{updateOptions:t,tags:o,isLoading:n}}},Kt={class:"pf-c-wizard__main-body"},Qt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},eo={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},to=e("span",{class:"pf-c-switch__toggle"},null,-1),oo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),no=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),ao=e("br",null,null,-1),so=e("br",null,null,-1),io={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},ro=e("span",{class:"pf-c-switch__toggle"},null,-1),lo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),co=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function po(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("multi-select");return d(),h("div",Kt,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?w("",!0):(d(),h("div",Qt,[j(v,{options:t.tags,modelOptions:n.model.tag,msLabel:"tagname",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=_=>t.updateOptions(_)),fieldType:"tags"},{"multi-select-label":R(()=>[L("Choose tags")]),"multi-select-subtext":R(()=>[L("Select one or more tags for this task.")]),_:1},8,["options","modelOptions"]),e("label",eo,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=_=>n.model.download_report_notify=_)},null,512),[[G,n.model.download_report_notify]]),to,oo,no]),ao,so,e("label",io,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=_=>n.model.verbose_download_report_notify=_)},null,512),[[G,n.model.verbose_download_report_notify]]),ro,lo,co])]))])}const fe=X(Zt,[["render",po]]),_o={props:{cronProp:{type:Array}},components:{},setup(r){const o=I({minute:"",hour:"",day:"",month:"",weekday:""}),n=I({minute:r.cronProp[0]?r.cronProp[0]:"*",hour:r.cronProp[1]?r.cronProp[1]:"*",day:r.cronProp[2]?r.cronProp[2]:"*",month:r.cronProp[3]?r.cronProp[3]:"*",weekday:r.cronProp[4]?r.cronProp[4]:"*"});function t(){n.minute?(r.cronProp[0]=n.minute,o.minute=""):o.minute="Minute is required"}function g(){n.hour?(r.cronProp[1]=n.hour,o.hour=""):o.hour="Hour is required"}function b(){n.day?(r.cronProp[2]=n.day,o.day=""):o.day="Day is required"}function i(){n.month?(r.cronProp[3]=n.month,o.month=""):o.month="Month is required"}function v(){n.weekday?(r.cronProp[4]=n.weekday,o.weekday=""):o.weekday="Weekday is required"}return q(()=>{n.minute=r.cronProp[0],n.hour=r.cronProp[1],n.day=r.cronProp[2],n.month=r.cronProp[3],n.weekday=r.cronProp[4],o.minute="",o.hour="",o.day="",o.month="",o.weekday=""}),{cronReturnArray:n,errors:o,onChangeMin:t,onChangeHour:g,onChangeDay:b,onChangeMonth:i,onChangeWeekday:v}}},fo={key:0,class:"pf-m-error"},uo=e("p",{class:"pf-c-form__helper-text pf-m-error",id:"form-help-text-info-helper","aria-live":"polite"},[e("span",{class:"pf-c-form__helper-text-icon"},[e("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})]),L(" Error Notice: ")],-1),mo={class:"pf-c-form__helper-text pf-m-error pf-u-ml-lg"},ho={class:"pf-c-form__group pf-u-pt-md"},vo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Minute"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),go={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},yo={class:"pf-l-grid__item pf-m-3-col"},wo={class:"pf-l-grid__item pf-m-9-col"},bo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every minute (*)</option><option value="*/2">Every other minute (*/2)</option><option value="*/5">Every 5 minutes (*/5)</option><option value="*/10">Every 10 minutes (*/10)</option><option value="*/15">Every 15 minutes (*/15)</option><option value="0,30">Every 30 minutes (0,30)</option><option value="--" disabled>-- Minutes --</option><option value="0">:00 top of the hour (0)</option><option value="1">:01 (1)</option><option value="2">:02 (2)</option><option value="3">:03 (3)</option><option value="4">:04 (4)</option><option value="5">:05 (5)</option><option value="6">:06 (6)</option><option value="7">:07 (7)</option><option value="8">:08 (8)</option><option value="9">:09 (9)</option><option value="10">:10 (10)</option><option value="11">:11 (11)</option><option value="12">:12 (12)</option><option value="13">:13 (13)</option><option value="14">:14 (14)</option><option value="15">:15 quarter past (15)</option><option value="16">:16 (16)</option><option value="17">:17 (17)</option><option value="18">:18 (18)</option><option value="19">:19 (19)</option><option value="20">:20 (20)</option><option value="21">:21 (21)</option><option value="22">:22 (22)</option><option value="23">:23 (23)</option><option value="24">:24 (24)</option><option value="25">:25 (25)</option><option value="26">:26 (26)</option><option value="27">:27 (27)</option><option value="28">:28 (28)</option><option value="29">:29 (29)</option><option value="30">:30 half past (30)</option><option value="31">:31 (31)</option><option value="32">:32 (32)</option><option value="33">:33 (33)</option><option value="34">:34 (34)</option><option value="35">:35 (35)</option><option value="36">:36 (36)</option><option value="37">:37 (37)</option><option value="38">:38 (38)</option><option value="39">:39 (39)</option><option value="40">:40 (40)</option><option value="41">:41 (41)</option><option value="42">:42 (42)</option><option value="43">:43 (43)</option><option value="44">:44 (44)</option><option value="45">:45 quarter til (45)</option><option value="46">:46 (46)</option><option value="47">:47 (47)</option><option value="48">:48 (48)</option><option value="49">:49 (49)</option><option value="50">:50 (50)</option><option value="51">:51 (51)</option><option value="52">:52 (52)</option><option value="53">:53 (53)</option><option value="54">:54 (54)</option><option value="55">:55 (55)</option><option value="56">:56 (56)</option><option value="57">:57 (57)</option><option value="58">:58 (58)</option><option value="59">:59 (59)</option>',68),ko=[bo],To={class:"pf-c-form__group pf-u-pt-md"},Oo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Hour"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),xo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},zo={class:"pf-l-grid__item pf-m-3-col"},So={class:"pf-l-grid__item pf-m-9-col"},Co=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every hour (*)</option><option value="*/2">Every other hour (*/2)</option><option value="*/3">Every 3 hours (*/3)</option><option value="*/4">Every 4 hours (*/4)</option><option value="*/6">Every 6 hours (*/6)</option><option value="0,12">Every 12 hours (0,12)</option><option value="--" disabled>-- Hours --</option><option value="0">12:00 a.m. midnight (0)</option><option value="1">1:00 a.m. (1)</option><option value="2">2:00 a.m. (2)</option><option value="3">3:00 a.m. (3)</option><option value="4">4:00 a.m. (4)</option><option value="5">5:00 a.m. (5)</option><option value="6">6:00 a.m. (6)</option><option value="7">7:00 a.m. (7)</option><option value="8">8:00 a.m. (8)</option><option value="9">9:00 a.m. (9)</option><option value="10">10:00 a.m. (10)</option><option value="11">11:00 a.m. (11)</option><option value="12">12:00 p.m. noon (12)</option><option value="13">1:00 p.m. (13)</option><option value="14">2:00 p.m. (14)</option><option value="15">3:00 p.m. (15)</option><option value="16">4:00 p.m. (16)</option><option value="17">5:00 p.m. (17)</option><option value="18">6:00 p.m. (18)</option><option value="19">7:00 p.m. (19)</option><option value="20">8:00 p.m. (20)</option><option value="21">9:00 p.m. (21)</option><option value="22">10:00 p.m. (22)</option><option value="23">11:00 p.m. (23)</option>',32),Do=[Co],Mo={class:"pf-c-form__group pf-u-pt-md"},Eo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Day"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Po={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},$o={class:"pf-l-grid__item pf-m-3-col"},Xo={class:"pf-l-grid__item pf-m-9-col"},jo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every day (*)</option><option value="*/2">Every other day (*/2)</option><option value="1,15">1st and 15th (1,15)</option><option value="--" disabled>-- Days --</option><option value="1">1st (1)</option><option value="2">2nd (2)</option><option value="3">3rd (3)</option><option value="4">4th (4)</option><option value="5">5th (5)</option><option value="6">6th (6)</option><option value="7">7th (7)</option><option value="8">8th (8)</option><option value="9">9th (9)</option><option value="10">10th (10)</option><option value="11">11th (11)</option><option value="12">12th (12)</option><option value="13">13th (13)</option><option value="14">14th (14)</option><option value="15">15th (15)</option><option value="16">16th (16)</option><option value="17">17th (17)</option><option value="18">18th (18)</option><option value="19">19th (19)</option><option value="20">20th (20)</option><option value="21">21st (21)</option><option value="22">22nd (22)</option><option value="23">23rd (23)</option><option value="24">24th (24)</option><option value="25">25th (25)</option><option value="26">26th (26)</option><option value="27">27th (27)</option><option value="28">28th (28)</option><option value="29">29th (29)</option><option value="30">30th (30)</option><option value="31">31st (31)</option>',36),Ao=[jo],Lo={class:"pf-c-form__group pf-u-pt-md"},Ro=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Month"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Fo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Uo={class:"pf-l-grid__item pf-m-3-col"},Io={class:"pf-l-grid__item pf-m-9-col"},Wo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every month (*)</option><option value="*/2">Every other month (*/2)</option><option value="*/4">Every 3 months (*/4)</option><option value="1,7">Every 6 months (1,7)</option><option value="--" disabled>-- Months --</option><option value="1">January (1)</option><option value="2">February (2)</option><option value="3">March (3)</option><option value="4">April (4)</option><option value="5">May (5)</option><option value="6">June (6)</option><option value="7">July (7)</option><option value="8">August (8)</option><option value="9">September (9)</option><option value="10">October (10)</option><option value="11">November (11)</option><option value="12">December (12)</option>',18),Ho=[Wo],Vo={class:"pf-c-form__group pf-u-pt-md"},No=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Weekday"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Go={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},qo={class:"pf-l-grid__item pf-m-3-col"},Bo={class:"pf-l-grid__item pf-m-9-col"},Yo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every weekday (*)</option><option value="1-5">Mon thru Fri (1-5)</option><option value="0,6">Sat and Sun (6,0)</option><option value="1,3,5">Mon, Wed, Fri (1,3,5)</option><option value="2,4">Tues, Thurs (2,4)</option><option value="2,5">Tues, Fri (2,5)</option><option value="--" disabled>-- Weekdays --</option><option value="0">Sunday (0)</option><option value="1">Monday (1)</option><option value="2">Tuesday (2)</option><option value="3">Wednesday (3)</option><option value="4">Thursday (4)</option><option value="5">Friday (5)</option><option value="6">Saturday (6)</option>',15),Jo=[Yo];function Zo(r,o,n,t,g,b){return d(),h("div",null,[t.errors.minute||t.errors.hour||t.errors.day||t.errors.month||t.errors.weekday?(d(),h("div",fo,[uo,(d(!0),h(W,null,Y(t.errors,i=>(d(),h("p",mo,M(i),1))),256))])):w("",!0),e("div",ho,[vo,e("div",go,[e("div",yo,[$(e("input",{type:"text",name:"minute",id:"minute","onUpdate:modelValue":o[0]||(o[0]=i=>t.cronReturnArray.minute=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[1]||(o[1]=(...i)=>t.onChangeMin&&t.onChangeMin(...i))},null,544),[[N,t.cronReturnArray.minute]])]),e("div",wo,[$(e("select",{id:"minuteSelect",class:"pf-c-form-control","onUpdate:modelValue":o[2]||(o[2]=i=>t.cronReturnArray.minute=i),onChange:o[3]||(o[3]=(...i)=>t.onChangeMin&&t.onChangeMin(...i))},ko,544),[[ee,t.cronReturnArray.minute]])])])]),e("div",To,[Oo,e("div",xo,[e("div",zo,[$(e("input",{type:"text",name:"hour",id:"hour","onUpdate:modelValue":o[4]||(o[4]=i=>t.cronReturnArray.hour=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[5]||(o[5]=(...i)=>t.onChangeHour&&t.onChangeHour(...i))},null,544),[[N,t.cronReturnArray.hour]])]),e("div",So,[$(e("select",{id:"hourSelect",class:"pf-c-form-control","onUpdate:modelValue":o[6]||(o[6]=i=>t.cronReturnArray.hour=i),onChange:o[7]||(o[7]=(...i)=>t.onChangeHour&&t.onChangeHour(...i))},Do,544),[[ee,t.cronReturnArray.hour]])])])]),e("div",Mo,[Eo,e("div",Po,[e("div",$o,[$(e("input",{type:"text",name:"day",id:"day","onUpdate:modelValue":o[8]||(o[8]=i=>t.cronReturnArray.day=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[9]||(o[9]=(...i)=>t.onChangeDay&&t.onChangeDay(...i))},null,544),[[N,t.cronReturnArray.day]])]),e("div",Xo,[$(e("select",{id:"daySelect",class:"pf-c-form-control","onUpdate:modelValue":o[10]||(o[10]=i=>t.cronReturnArray.day=i),onChange:o[11]||(o[11]=(...i)=>t.onChangeDay&&t.onChangeDay(...i))},Ao,544),[[ee,t.cronReturnArray.day]])])])]),e("div",Lo,[Ro,e("div",Fo,[e("div",Uo,[$(e("input",{type:"text",name:"month",id:"month","onUpdate:modelValue":o[12]||(o[12]=i=>t.cronReturnArray.month=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[13]||(o[13]=(...i)=>t.onChangeMonth&&t.onChangeMonth(...i))},null,544),[[N,t.cronReturnArray.month]])]),e("div",Io,[$(e("select",{id:"monthSelect",class:"pf-c-form-control","onUpdate:modelValue":o[14]||(o[14]=i=>t.cronReturnArray.month=i),onChange:o[15]||(o[15]=(...i)=>t.onChangeMonth&&t.onChangeMonth(...i))},Ho,544),[[ee,t.cronReturnArray.month]])])])]),e("div",Vo,[No,e("div",Go,[e("div",qo,[$(e("input",{type:"text",name:"weekday",id:"weekday","onUpdate:modelValue":o[16]||(o[16]=i=>t.cronReturnArray.weekday=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onChange:o[17]||(o[17]=(...i)=>t.onChangeWeekday&&t.onChangeWeekday(...i))},null,544),[[N,t.cronReturnArray.weekday]])]),e("div",Bo,[$(e("select",{id:"weekdaySelect",class:"pf-c-form-control","onUpdate:modelValue":o[18]||(o[18]=i=>t.cronReturnArray.weekday=i),onChange:o[19]||(o[19]=(...i)=>t.onChangeWeekday&&t.onChangeWeekday(...i))},Jo,544),[[ee,t.cronReturnArray.weekday]])])])])])}const ue=X(_o,[["render",Zo]]),Ko={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskCronForm:ue,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(r,{emit:o}){const{commands:n}=re(),t=C(""),g=I({command:""}),b=C(!1),i=C(!1),v=C(!1),_=C(!1),l=C(r.viewstate.editid===0?"add":"edit"),{errors:O,model:k,clearModel:s,updateModel:a,getModel:p,storeModel:c,isLoading:f}=ce(r.viewstate.modelName,r.viewstate.modelObject),m=C(""),y=C([]),u=C(Math.random());B(()=>{p(r.viewstate.editid)});const E=async()=>{r.viewstate.editid!=0?await a(k):await c(k),O.value===""&&(o("formsubmitted",r.viewstate.pagenamesingle+" "+l.value+"ed!"),D())};function z(A){var P=A.target.value,V=P.split(" ");k.task_cron=V}function D(){o("closeDrawer")}ge(()=>k.task_command,()=>{x(n,k.task_command),Object.assign(g,n[t.value])});function x(A,P){Object.entries(A).forEach(V=>{P.startsWith(V[1].command)&&(t.value=V[0])})}return q(()=>{k.task_cron&&(m.value=ie.toString(k.task_cron.join(" ")))}),{selectedCmdObj:g,showFieldGroup1:b,showFieldGroup2:i,showFieldGroup3:v,showRoleOptions:_,close:D,errors:O,model:k,saveModels:E,clearModel:s,isLoading:f,selectExample:z,cronToHuman:m,cronFormKey:u,cron:y}}},Qo={key:0,novalidate:"",class:"pf-c-form"},en={class:"pf-c-form__group"},tn=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Type"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),on={class:"pf-c-form__group-control pf-u-color-300"},nn={class:"pf-c-form__field-group-toggle"},an={class:"pf-c-form__field-group-toggle-button"},sn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),rn=[sn],ln=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Info")])],-1),cn=[ln],dn={key:0,class:"pf-c-form__field-group-body"},pn={class:"pf-c-form__group"},_n=H('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_name"><span class="pf-c-form__label-text">Task Name</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),fn={class:"pf-c-form__group-control"},un={class:"pf-c-form__group",style:{"padding-top":"0px","padding-bottom":"30px"}},mn=H('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_desc"><span class="pf-c-form__label-text pf-u-color-300">Task Description</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),hn={class:"pf-c-form__group-control"},vn={class:"pf-c-form__field-group-toggle"},gn={class:"pf-c-form__field-group-toggle-button"},yn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),wn=[yn],bn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Details")])],-1),kn=[bn],Tn={key:0,class:"pf-c-form__field-group-body"},On={class:"pf-c-form__field-group-toggle"},xn={class:"pf-c-form__field-group-toggle-button"},zn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),Sn=[zn],Cn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Schedule")])],-1),Dn=[Cn],Mn={key:0,class:"pf-c-form__field-group-body"},En={class:"pf-c-form__group"},Pn={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},$n={class:"pf-c-form__group"},Xn=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),jn={class:"pf-c-form__group-control"},An=H('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Ln=[An],Rn={class:"pf-u-pt-xl"},Fn={key:0,class:"pf-c-label pf-m-blue"},Un={class:"pf-c-label__content"},In=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),Wn=e("b",null,"Task Schedule is set:",-1),Hn={class:"pf-c-form__group"},Vn={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Nn=e("span",{class:"pf-c-switch__toggle"},null,-1),Gn=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),qn=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1),Bn={class:"pf-c-form__group pf-m-action"},Yn={class:"pf-c-form__group-control"},Jn={class:"pf-c-form__actions"};function Zn(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("task-wizard-step-31"),_=T("task-wizard-step-32"),l=T("task-wizard-step-33"),O=T("task-wizard-step-34"),k=T("task-wizard-step-35"),s=T("task-wizard-step-36"),a=T("task-wizard-step-37"),p=T("task-wizard-step-38"),c=T("task-wizard-step-39"),f=T("task-wizard-step-310"),m=T("task-wizard-step-311"),y=T("task-cron-form");return d(),h(W,null,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?w("",!0):(d(),h("form",Qo,[e("div",en,[tn,e("div",on,M(t.selectedCmdObj.categoryLabel)+" - "+M(t.selectedCmdObj.label),1)]),e("div",{class:U(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup1}]),role:"group"},[e("div",nn,[e("div",an,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[0]||(o[0]=u=>t.showFieldGroup1=!t.showFieldGroup1)},rn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[1]||(o[1]=u=>t.showFieldGroup1=!t.showFieldGroup1),style:{cursor:"pointer"}},cn),t.showFieldGroup1?(d(),h("div",dn,[e("div",pn,[_n,e("div",fn,[$(e("input",{class:"pf-c-form-control",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[2]||(o[2]=u=>t.model.task_name=u),autocomplete:"off"},null,512),[[N,t.model.task_name]])])]),e("div",un,[mn,e("div",hn,[$(e("input",{class:"pf-c-form-control",type:"text",id:"task_desc",desc:"task_desc","onUpdate:modelValue":o[3]||(o[3]=u=>t.model.task_desc=u),autocomplete:"off"},null,512),[[N,t.model.task_desc]])])])])):w("",!0)],2),e("div",{class:U(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup2}]),role:"group"},[e("div",vn,[e("div",gn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[4]||(o[4]=u=>t.showFieldGroup2=!t.showFieldGroup2)},wn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[5]||(o[5]=u=>t.showFieldGroup2=!t.showFieldGroup2),style:{cursor:"pointer"}},kn),t.showFieldGroup2?(d(),h("div",Tn,[t.selectedCmdObj.id===1?(d(),S(v,{key:0,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===2?(d(),S(_,{key:1,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===3?(d(),S(l,{key:2,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===4?(d(),S(O,{key:3,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===5?(d(),S(k,{key:4,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===6?(d(),S(s,{key:5,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===7?(d(),S(a,{key:6,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===8?(d(),S(p,{key:7,model:t.model,onGoToPageFour:o[6]||(o[6]=u=>r.wizardData.currentPage=4)},null,8,["model"])):w("",!0),t.selectedCmdObj.id===9?(d(),S(c,{key:8,model:t.model,onGoToPageFour:o[7]||(o[7]=u=>r.wizardData.currentPage=4)},null,8,["model"])):w("",!0),t.selectedCmdObj.id===10?(d(),S(f,{key:9,model:t.model},null,8,["model"])):w("",!0),t.selectedCmdObj.id===11?(d(),S(m,{key:10,model:t.model},null,8,["model"])):w("",!0)])):w("",!0)],2),e("div",{class:U(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup3}]),role:"group"},[e("div",On,[e("div",xn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[8]||(o[8]=u=>t.showFieldGroup3=!t.showFieldGroup3)},Sn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[9]||(o[9]=u=>t.showFieldGroup3=!t.showFieldGroup3),style:{cursor:"pointer"}},Dn),t.showFieldGroup3?(d(),h("div",Mn,[e("div",En,[e("form",Pn,[e("div",$n,[Xn,e("div",jn,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[10]||(o[10]=u=>t.selectExample(u))},Ln,32)])]),t.model.task_cron?(d(),S(y,{key:0,cronProp:t.model.task_cron},null,8,["cronProp"])):w("",!0)]),e("div",Rn,[t.cronToHuman!=""?(d(),h("span",Fn,[e("span",Un,[In,Wn,L("  "+M(t.cronToHuman),1)])])):w("",!0)])]),e("div",Hn,[e("label",Vn,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[11]||(o[11]=u=>t.model.task_email_notify=u),autocomplete:"off"},null,512),[[G,t.model.task_email_notify]]),Nn,Gn,qn])])])):w("",!0)],2),e("div",Bn,[e("div",Yn,[e("div",Jn,[e("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:o[12]||(o[12]=F((...u)=>t.saveModels&&t.saveModels(...u),["prevent"]))},"Save"),e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[13]||(o[13]=(...u)=>t.close&&t.close(...u))},"Cancel")])])])]))],64)}const Kn=X(Ko,[["render",Zn]]),Qn={props:{wizardData:{type:Object,required:!0}},setup(r,{emit:o}){const{commands:n}=re();function t(b,i){return Object.fromEntries(Object.entries(n).slice(b,i))}function g(b){o("selectTask",b)}return{sliceItems:t,selectTask:g,commands:n}}},ea={class:"pf-c-wizard__main-body"},ta=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 1 - Task Type")],-1),oa=e("h5",{class:"pf-u-color-300 pf-u-pt-sm"},"Config Downloads",-1),na={class:"pf-l-flex pf-m-column"},aa={class:"pf-l-flex"},sa=["onClick"],ia={class:"pf-c-tile__header"},ra={class:"pf-c-tile__icon"},la={class:"pf-c-tile__title"},ca={class:"pf-c-tile__body pf-m-hidden-on-xl"};function da(r,o,n,t,g,b){return d(),h("div",ea,[ta,oa,e("div",na,[e("div",aa,[(d(!0),h(W,null,Y(t.sliceItems(0,4),i=>(d(),h("div",{class:"pf-l-flex__item pf-u-pt-sm",key:i.id},[e("div",{class:U(["pf-c-tile",{"pf-m-selected":n.wizardData.selectedTask.id===i.id}]),tabindex:"1",onClick:v=>t.selectTask(i),style:{"min-width":"160px","max-width":"220px",height:"100px"}},[e("div",ia,[e("div",ra,[e("i",{class:U(i.iconClass),"aria-hidden":"true"},null,2)]),e("div",la,M(i.label),1)]),e("div",ca,M(i.description),1)],10,sa)]))),128))])])])}const pa=X(Qn,[["render",da]]),_a={props:{wizardData:{type:Object,required:!0},model:{type:Object}},components:{},setup(r,{emit:o}){function n(){o("goToPageOne")}return{goToPageOne:n}}},fa={class:"pf-c-wizard__main-body"},ua={class:"pf-c-empty-state"},ma={class:"pf-c-empty-state__content"},ha=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),va=e("h1",{class:"pf-c-title pf-m-lg"},"Task not selected",-1),ga=e("div",{class:"pf-c-empty-state__body"},"Please go back to step 1 and select your task type.",-1);function ya(r,o,n,t,g,b){return d(),h("div",fa,[e("div",ua,[e("div",ma,[ha,va,ga,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[0]||(o[0]=F((...i)=>t.goToPageOne&&t.goToPageOne(...i),["prevent"]))},"Go to step 1")])])])}const ne=X(_a,[["render",ya]]),wa={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne},setup(r){return{}}},ba={class:"pf-c-wizard__main-body"},ka=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 2 - Task Information")],-1),Ta={key:1,novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-lg pf-u-w-100 pf-u-w-75-on-xl"},Oa={class:"pf-c-form__group"},xa=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Name"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),za={class:"pf-c-form__group-control"},Sa={class:"pf-c-form__group"},Ca=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Description"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Da={class:"pf-c-form__group-control"};function Ma(r,o,n,t,g,b){const i=T("task-wizard-task-not-selected");return d(),h("div",ba,[ka,n.wizardData.selectedTask.id===0?(d(),S(i,{key:0,onGoToPageOne:o[0]||(o[0]=v=>n.wizardData.currentPage=1)})):(d(),h("form",Ta,[e("div",Oa,[xa,e("div",za,[$(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[1]||(o[1]=v=>n.model.task_name=v),autocomplete:"off"},null,512),[[N,n.model.task_name]])])]),e("div",Sa,[Ca,e("div",Da,[$(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_desc",name:"task_desc","onUpdate:modelValue":o[2]||(o[2]=v=>n.model.task_desc=v),autocomplete:"off"},null,512),[[N,n.model.task_desc]])])])]))])}const Ea=X(wa,[["render",Ma]]),Pa={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(r){return{}}},$a={class:"pf-c-wizard__main-body"},Xa=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 3 - Task Configuration")],-1);function ja(r,o,n,t,g,b){const i=T("task-wizard-task-not-selected"),v=T("task-wizard-step-31"),_=T("task-wizard-step-32"),l=T("task-wizard-step-33"),O=T("task-wizard-step-35"),k=T("task-wizard-step-36"),s=T("task-wizard-step-37"),a=T("task-wizard-step-38"),p=T("task-wizard-step-39"),c=T("task-wizard-step-310"),f=T("task-wizard-step-311");return d(),h("div",$a,[Xa,n.wizardData.selectedTask.id===0?(d(),S(i,{key:0,onGoToPageOne:o[0]||(o[0]=m=>n.wizardData.currentPage=1)})):w("",!0),n.wizardData.selectedTask.id===1?(d(),S(v,{key:1,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===2?(d(),S(_,{key:2,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===3?(d(),S(l,{key:3,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===5?(d(),S(O,{key:4,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===6?(d(),S(k,{key:5,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===7?(d(),S(s,{key:6,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===8?(d(),S(a,{key:7,model:n.model,onGoToPageFour:o[1]||(o[1]=m=>n.wizardData.currentPage=4)},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===9?(d(),S(p,{key:8,model:n.model,onGoToPageFour:o[2]||(o[2]=m=>n.wizardData.currentPage=4)},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===10?(d(),S(c,{key:9,model:n.model},null,8,["model"])):w("",!0),n.wizardData.selectedTask.id===11?(d(),S(f,{key:10,model:n.model},null,8,["model"])):w("",!0)])}const Aa=X(Pa,[["render",ja]]),La={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskCronForm:ue,TaskWizardTaskNotSelected:ne},setup(r){const o=C([]),n=C("");function t(g){var b=g.target.value,i=b.split(" ");r.model.task_cron=i}return B(()=>{r.model.task_cron!=""&&(o.value=r.model.task_cron)}),q(()=>{r.model.task_cron&&(n.value=ie.toString(r.model.task_cron.join(" ")))}),{cronExampleArray:o,selectExample:t,cronToHuman:n}}},Ra={class:"pf-c-wizard__main-body"},Fa=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 4 - Task Schedule")],-1),Ua={key:1},Ia={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},Wa={class:"pf-c-form__group"},Ha=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),Va={class:"pf-c-form__group-control"},Na=H('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Ga=[Na],qa={class:"pf-u-pt-xl"},Ba={key:0,class:"pf-c-label pf-m-blue"},Ya={class:"pf-c-label__content"},Ja=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),Za=e("b",null,"Task Schedule is set:",-1),Ka={key:0,class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"task_email_notifyswitch-reverse-1"},Qa=e("span",{class:"pf-c-switch__toggle"},null,-1),es=e("span",{class:"pf-c-switch__label pf-m-on",id:"task_email_notifyswitch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),ts=e("span",{class:"pf-c-switch__label pf-m-off",id:"task_email_notifyswitch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1);function os(r,o,n,t,g,b){const i=T("task-wizard-task-not-selected"),v=T("task-cron-form");return d(),h("div",Ra,[Fa,n.wizardData.selectedTask.id===0?(d(),S(i,{key:0,onGoToPageOne:o[0]||(o[0]=_=>n.wizardData.currentPage=1)})):(d(),h("div",Ua,[e("form",Ia,[e("div",Wa,[Ha,e("div",Va,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[1]||(o[1]=_=>t.selectExample(_))},Ga,32)])]),j(v,{cronProp:n.model.task_cron},null,8,["cronProp"])]),e("div",qa,[t.cronToHuman!=""?(d(),h("span",Ba,[e("span",Ya,[Ja,Za,L("  "+M(t.cronToHuman),1)])])):w("",!0)]),n.wizardData.selectedTask.id!=0?(d(),h("label",Ka,[$(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"task_email_notifyswitch-reverse-1","aria-labelledby":"task_email_notifyswitch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[2]||(o[2]=_=>n.model.task_email_notify=_)},null,512),[[G,n.model.task_email_notify]]),Qa,es,ts])):w("",!0)]))])}const ns=X(La,[["render",os]]),as={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.device};delete t[n],r.model.device=Object.values(t)}return{remove:o}}},ss={class:"pf-c-chip-group pf-m-category"},is={class:"pf-c-chip-group__main"},rs=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-devices-label"},"Devices",-1),ls={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-devices-label"},cs={class:"pf-c-chip"},ds=["id"],ps=["id","onClick"],_s=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),fs=[_s];function us(r,o,n,t,g,b){return d(),h("div",ss,[e("div",is,[rs,e("ul",ls,[(d(!0),h(W,null,Y(n.model.device,(i,v)=>(d(),h("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",cs,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.device_name),9,ds),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-devicesremove_chip_one_toolbar_collapsed chip-group-with-deviceschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:_=>t.remove(v)},fs,8,ps)])]))),128))])])])}const ms=X(as,[["render",us]]),hs={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.category};delete t[n],r.model.category=Object.values(t)}return{remove:o}}},vs={class:"pf-c-chip-group pf-m-category"},gs={class:"pf-c-chip-group__main"},ys=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-categories-label"},"Categories",-1),ws={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-categories-label"},bs={class:"pf-c-chip"},ks=["id"],Ts=["id","onClick"],Os=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),xs=[Os];function zs(r,o,n,t,g,b){return d(),h("div",vs,[e("div",gs,[ys,e("ul",ws,[(d(!0),h(W,null,Y(n.model.category,(i,v)=>(d(),h("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",bs,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.categoryName),9,ks),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-categoriesremove_chip_one_toolbar_collapsed chip-group-with-categorieschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:_=>t.remove(v)},xs,8,Ts)])]))),128))])])])}const Ss=X(hs,[["render",zs]]),Cs={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.tag};delete t[n],r.model.tag=Object.values(t)}return{remove:o}}},Ds={class:"pf-c-chip-group pf-m-category"},Ms={class:"pf-c-chip-group__main"},Es=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-tags-label"},"Tags",-1),Ps={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-tags-label"},$s={class:"pf-c-chip"},Xs=["id"],js=["id","onClick"],As=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Ls=[As];function Rs(r,o,n,t,g,b){return d(),h("div",Ds,[e("div",Ms,[Es,e("ul",Ps,[(d(!0),h(W,null,Y(n.model.tag,(i,v)=>(d(),h("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",$s,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.tagname),9,Xs),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-tagsremove_chip_one_toolbar_collapsed chip-group-with-tagschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:_=>t.remove(v)},Ls,8,js)])]))),128))])])])}const Fs=X(Cs,[["render",Rs]]),Us={props:{model:{type:Object}},components:{TaskFinalResultOutputChipGroupDevices:ms,TaskFinalResultOutputChipGroupCategories:Ss,TaskFinalResultOutputChipGroupTags:Fs},setup(r){const{commands:o}=re(),n=C(""),t=C(""),g=I({command:""});function b(v,_){Object.entries(v).forEach(l=>{l[1].command===_&&(n.value=l[0])})}function i(v){const _={...r.model.category};delete _[v],r.model.category=Object.values(_)}return b(o,r.model.task_command),Object.assign(g,o[n.value]),t.value=ie.toString(r.model.task_cron.join(" ")),{selectedCmdObj:g,cronToHuman:t,removeCategory:i}}},Is={class:"pf-c-description-list pf-m-horizontal pf-u-pt-md"},Ws={class:"pf-c-description-list__group"},Hs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Type")],-1),Vs={class:"pf-c-description-list__description"},Ns={class:"pf-c-description-list__text"},Gs={class:"pf-c-description-list__group"},qs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Name")],-1),Bs={class:"pf-c-description-list__description"},Ys={class:"pf-c-description-list__text"},Js={class:"pf-c-description-list__group"},Zs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Description")],-1),Ks={class:"pf-c-description-list__description"},Qs={class:"pf-c-description-list__text"},ei={key:0,class:"pf-c-description-list__group"},ti=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Configuration")],-1),oi={class:"pf-c-description-list__description"},ni={class:"pf-c-description-list__text"},ai={class:"pf-c-description-list__group"},si=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Schedule")],-1),ii={class:"pf-c-description-list__description"},ri={class:"pf-c-description-list__text"},li={key:0,class:"pf-c-label pf-m-blue"},ci={class:"pf-c-label__content"},di={class:"pf-c-description-list__group"},pi=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Reporting")],-1),_i={class:"pf-c-description-list__description"},fi={class:"pf-c-description-list__text"},ui={key:0,class:"pf-c-helper-text"},mi=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will be sent after each run")],-1),hi=[mi],vi={key:1,class:"pf-c-helper-text"},gi=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will not be sent after each run")],-1),yi=[gi],wi={key:2},bi={key:0,class:"pf-c-helper-text"},ki=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will be sent after task completes.")],-1),Ti=[ki],Oi={key:1,class:"pf-c-helper-text"},xi=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will not be sent after task completes.")],-1),zi=[xi],Si={key:2,class:"pf-c-helper-text"},Ci=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will be sent after task completes.")],-1),Di=[Ci],Mi={key:3,class:"pf-c-helper-text"},Ei=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will not be sent after task completes.")],-1),Pi=[Ei];function $i(r,o,n,t,g,b){const i=T("task-final-result-output-chip-group-devices"),v=T("task-final-result-output-chip-group-categories"),_=T("task-final-result-output-chip-group-tags");return d(),h("dl",Is,[e("div",Ws,[Hs,e("dd",Vs,[e("div",Ns,M(t.selectedCmdObj.categoryLabel)+" - "+M(t.selectedCmdObj.label),1)])]),e("div",Gs,[qs,e("dd",Bs,[e("div",Ys,M(n.model.task_name),1)])]),e("div",Js,[Zs,e("dd",Ks,[e("div",Qs,M(n.model.task_desc),1)])]),n.model.device||n.model.category||n.model.tag?(d(),h("div",ei,[ti,e("dd",oi,[e("div",ni,[n.model.device?(d(),S(i,{key:0,model:n.model},null,8,["model"])):w("",!0),n.model.category?(d(),S(v,{key:1,model:n.model},null,8,["model"])):w("",!0),n.model.tag?(d(),S(_,{key:2,model:n.model},null,8,["model"])):w("",!0)])])])):w("",!0),e("div",ai,[si,e("dd",ii,[e("div",ri,[t.cronToHuman!=""?(d(),h("span",li,[e("span",ci,M(t.cronToHuman),1)])):w("",!0)])])]),e("div",di,[pi,e("dd",_i,[e("div",fi,[e("div",null,[n.model.task_email_notify?(d(),h("div",ui,hi)):w("",!0),n.model.task_email_notify?w("",!0):(d(),h("div",vi,yi)),n.model.device||n.model.category||n.model.tag?(d(),h("div",wi,[n.model.download_report_notify?(d(),h("div",bi,Ti)):w("",!0),n.model.download_report_notify?w("",!0):(d(),h("div",Oi,zi)),n.model.verbose_download_report_notify?(d(),h("div",Si,Di)):w("",!0),n.model.verbose_download_report_notify?w("",!0):(d(),h("div",Mi,Pi))])):w("",!0)])])])])])}const Xi=X(Us,[["render",$i]]),ji={props:{status:{type:String,required:!0}},setup(r,{emit:o}){const n=C(0),t=C(null),g=C({checking:"checking",success:"success",error:"error"}),b=C("checking");B(()=>{t.value=setInterval(i,10)});function i(){n.value>=100?(clearInterval(t.value),n.value=0):n.value++}return q(()=>{r.status===g.value.checking&&n.value<100?b.value="checking":r.status===g.value.success&&n.value===100?b.value="success":r.status===g.value.error&&n.value===100&&(b.value="error")}),q(()=>{b.value!="checking"&&o("verificationDone")}),{progressCount:n,progressStatus:b}}},Ai={class:"pf-u-pt-lg"},Li={key:0,class:"pf-c-progress",style:{"max-width":"75%"}},Ri=e("div",{class:"pf-c-progress__description"},"Task Verification",-1),Fi={class:"pf-c-progress__status","aria-hidden":"true"},Ui={class:"pf-c-progress__measure"},Ii={class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"10","aria-valuenow":"4","aria-valuetext":"Verifying Task Data"},Wi={key:1,class:"pf-c-progress pf-m-inside pf-m-success",style:{"max-width":"75%"}},Hi=e("div",{class:"pf-c-progress__description"},"Task Verification Success",-1),Vi=e("div",{class:"pf-c-progress__status","aria-hidden":"true"},[e("span",{class:"pf-c-progress__status-icon"},[e("i",{class:"fas fa-fw fa-check-circle","aria-hidden":"true"})])],-1),Ni=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:{width:"100%"}},[e("span",{class:"pf-c-progress__measure"},"100%")])],-1),Gi=[Hi,Vi,Ni],qi={key:2,class:"pf-c-progress pf-m-danger",style:{"max-width":"75%"}},Bi=H('<div class="pf-c-progress__description">Task Verification Failed</div><div class="pf-c-progress__status" aria-hidden="true"><span class="pf-c-progress__measure">100%</span><span class="pf-c-progress__status-icon"><i class="fas fa-fw fa-times-circle" aria-hidden="true"></i></span></div>',2),Yi=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:"width: 100%"})],-1),Ji=[Bi,Yi];function Zi(r,o,n,t,g,b){return d(),h("div",Ai,[t.progressStatus==="checking"?(d(),h("div",Li,[Ri,e("div",Fi,[e("span",Ui,M(t.progressCount+"%"),1)]),e("div",Ii,[e("div",{class:"pf-c-progress__indicator",style:ye("width: "+t.progressCount+"%")},null,4)])])):w("",!0),t.progressStatus==="success"?(d(),h("div",Wi,Gi)):w("",!0),t.progressStatus==="error"?(d(),h("div",qi,Ji)):w("",!0)])}const Ki=X(ji,[["render",Zi]]),Qi={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskFinalResultOutput:Xi,TaskVerifyProgress:Ki},setup(r){const o=C(!1),n=oe("create-notification"),t=C(null),g=C("checking"),b=C(!1),i=C(!1),{toClipboard:v}=we();B(()=>{_()});const _=async O=>{t.value="";try{await axios.post("/api/tasks/validate-task",r.model),g.value="success"}catch(k){k.response.status===422?(g.value="error",t.value=k.response.data.errors):(t.status=k.response.status,t.message=k.response.data.message,n({type:"danger",title:"Error",message:k.response.data.message}))}};return{copy:async()=>{try{await v(r.model),o.value=!0,setTimeout(()=>{o.value=!1},3e3),n({type:"success",title:"Copy Success",message:"Output copied to clipboard"})}catch(O){n({type:"danger",title:"Error",message:O})}},errors:t,progressCheckStatus:g,showRawOutput:b,verificationDone:i}}},er={class:"pf-c-wizard__main-body"},tr=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 5 - Review")],-1),or={key:1,class:"pf-u-pt-sm"},nr={key:0,class:"pf-u-pt-md"},ar=e("span",{class:"pf-c-form__helper-text-icon"},[e("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})],-1),sr={key:1,class:"pf-u-pt-md"},ir={class:"pf-u-pt-sm"},rr={key:0,class:"pf-c-code-block",style:{"max-width":"75%"}},lr={class:"pf-c-code-block__header"},cr={class:"pf-c-code-block__actions"},dr={class:"pf-c-code-block__actions-item"},pr=e("i",{class:"fas fa-copy","aria-hidden":"true"},null,-1),_r=[pr],fr={class:"pf-c-code-block__content"},ur={class:"pf-c-code-block__pre"},mr={class:"pf-c-code-block__code"};function hr(r,o,n,t,g,b){const i=T("task-wizard-task-not-selected"),v=T("task-verify-progress"),_=T("task-final-result-output");return d(),h("div",er,[tr,n.wizardData.selectedTask.id===0?(d(),S(i,{key:0,onGoToPageOne:o[0]||(o[0]=l=>n.wizardData.currentPage=1)})):(d(),h("div",or,[j(v,{status:t.progressCheckStatus,onVerificationDone:o[1]||(o[1]=l=>t.verificationDone=!0)},null,8,["status"]),t.verificationDone&&t.errors?(d(),h("div",nr,[(d(!0),h(W,null,Y(t.errors,l=>(d(),h("p",{class:"pf-c-form__helper-text pf-m-error",key:l},[ar,L(" "+M(l[0]),1)]))),128))])):w("",!0),t.verificationDone&&t.errors?(d(),h("div",sr,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=l=>t.showRawOutput=!t.showRawOutput)},"View Raw Output")])):w("",!0),e("div",ir,[t.showRawOutput?(d(),h("div",rr,[e("div",lr,[L(" Raw Output "),e("div",cr,[e("div",dr,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Copy to clipboard",onClick:o[3]||(o[3]=l=>t.copy())},_r)])])]),e("div",fr,[e("pre",ur,[e("code",mr,M(n.model),1)])])])):w("",!0)]),t.verificationDone&&!t.errors?(d(),S(_,{key:2,model:n.model},null,8,["model"])):w("",!0)]))])}const vr=X(Qi,[["render",hr]]),gr={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskWizardStep1:pa,TaskWizardStep2:Ea,TaskWizardStep3:Aa,TaskWizardStep4:ns,TaskWizardStep5:vr},setup(r,{emit:o}){const n=I({currentPage:1,selectedTask:{id:0,command:"",label:"",description:"",categoryLabel:""}}),t=I({id:0,command:"",label:"",description:"",categoryLabel:""});C(1),C(r.viewstate.editid===0?"add":"edit");const{errors:g,model:b,clearModel:i,updateModel:v,getModel:_,storeModel:l,isLoading:O}=ce(r.viewstate.modelName,r.viewstate.modelObject);B(()=>{_(r.viewstate.editid)});function k(m){Object.assign(b,r.viewstate.modelObject),Object.assign(n.selectedTask,m),b.task_command=m.command,g.value=""}const s=async()=>{await l(b),g.value===""&&(o("formsubmitted",r.viewstate.pagenamesingle+" added!"),Object.assign(n.selectedTask,t),Object.assign(b,r.viewstate.modelObject),f())};q(()=>{Array.isArray(b.device)&&b.device.length>0&&(g.value="")}),q(()=>{b.task_cron!=""&&(g.value="")});function a(){g.value="",n.currentPage>1&&n.currentPage--}function p(){if(n.currentPage===1&&b.task_command===""){g.value="Please select a task";return}if(n.currentPage===2&&b.task_name===""){g.value="Please enter a task name";return}if(n.currentPage===2&&b.task_desc===""){g.value="Please enter a task description";return}if(n.currentPage===3&&b.task_command==="rconfig:download-device"&&b.device.length===0){g.value="Please choose one or more devices";return}if(n.currentPage===3&&b.task_command==="rconfig:download-category"&&b.category.length===0){g.value="Please choose one or more categories";return}if(n.currentPage===3&&b.task_command==="rconfig:download-tag"&&b.tag.length===0){g.value="Please choose one or more tags";return}if(n.currentPage===4&&b.task_cron===""){g.value="Please enter schedule values";return}g.value="",n.currentPage===5||n.currentPage++}function c(m){n.currentPage=m}function f(){o("closeDrawer")}return{wizard:n,setSelectedTask:k,prevPage:a,nextPage:p,setPage:c,close:f,errors:g,model:b,saveTask:s,clearModel:i,isLoading:O}}},yr={key:0,novalidate:"",class:"pf-c-form"},wr={class:"pf-c-wizard",style:{height:"78vh"}},br={class:"pf-c-wizard__header"},kr=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Tr=[kr],Or=e("h2",{"data-ouia-component-type":"PF4/Title","data-ouia-safe":"true","data-ouia-component-id":"OUIA-Generated-Title-4","aria-label":"Simple wizard in modal",id:"wiz-modal-demo-title",class:"pf-c-title pf-m-3xl pf-c-wizard__title"}," Scheduled Task Wizard ",-1),xr={class:"pf-c-wizard__description",id:"wiz-modal-demo-description"},zr={key:0},Sr={key:1},Cr={key:2},Dr={class:"pf-u-default-color-100"},Mr={class:"pf-c-wizard__toggle","aria-label":"Wizard Toggle","aria-expanded":"false"},Er=e("span",{class:"pf-c-wizard__toggle-list"},[e("span",{class:"pf-c-wizard__toggle-list-item"},[e("span",{class:"pf-c-wizard__toggle-num"},"1"),L(" Task Type")])],-1),Pr={class:"pf-c-wizard__toggle-icon"},$r={fill:"currentColor",height:"1em",width:"1em",viewBox:"0 0 320 512","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"}},Xr=e("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},null,-1),jr=[Xr],Ar={class:"pf-c-wizard__outer-wrap"},Lr={class:"pf-c-wizard__inner-wrap"},Rr={class:"pf-c-wizard__nav","aria-label":"Basic wizard steps"},Fr={class:"pf-c-wizard__nav-list"},Ur={class:"pf-c-wizard__nav-item"},Ir={class:"pf-c-wizard__nav-item"},Wr={class:"pf-c-wizard__nav-item"},Hr={class:"pf-c-wizard__nav-item"},Vr={class:"pf-c-wizard__nav-item"},Nr={key:0,class:"pf-c-alert pf-m-danger pf-m-inline taskWizardAlert","aria-label":"Inline danger alert"},Gr=e("div",{class:"pf-c-alert__icon"},[e("i",{class:"fas fa-fw fa-exclamation-circle","aria-hidden":"true"})],-1),qr={class:"pf-c-alert__title"},Br=e("span",{class:"pf-screen-reader"},"Danger alert:",-1),Yr={key:1,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Jr={key:2,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Zr={key:3,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Kr={key:4,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Qr={key:5,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},el={class:"pf-c-wizard__footer"},tl=["disabled"],ol={class:"pf-c-wizard__footer-cancel"};function nl(r,o,n,t,g,b){const i=T("loading-spinner"),v=T("task-wizard-step-1"),_=T("task-wizard-step-2"),l=T("task-wizard-step-3"),O=T("task-wizard-step-4"),k=T("task-wizard-step-5");return d(),h(W,null,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?w("",!0):(d(),h("form",yr,[e("div",wr,[e("div",br,[e("button",{class:"pf-c-button pf-m-plain pf-c-wizard__close",type:"button",onClick:o[0]||(o[0]=(...s)=>t.close&&t.close(...s)),style:{"font-weight":"300","font-size":"medium"}},Tr),Or,e("p",xr,[t.wizard.selectedTask.id===0?(d(),h("span",zr,"Create a new scheduled task")):(d(),h("span",Sr,"Selected Task")),t.wizard.selectedTask.id>0?(d(),h("span",Cr,[L(": "),e("span",Dr,M(t.wizard.selectedTask.categoryLabel)+" - "+M(t.wizard.selectedTask.label),1)])):w("",!0)])]),e("button",Mr,[Er,e("span",Pr,[(d(),h("svg",$r,jr))])]),e("div",Ar,[e("div",Lr,[e("nav",Rr,[e("ol",Fr,[e("li",Ur,[e("button",{class:U(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===1}]),onClick:o[1]||(o[1]=F(s=>t.setPage(1),["prevent"]))},"Task Type",2)]),e("li",Ir,[e("button",{class:U(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===2}]),onClick:o[2]||(o[2]=F(s=>t.setPage(2),["prevent"]))},"Task Information",2)]),e("li",Wr,[e("button",{class:U(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===3}]),onClick:o[3]||(o[3]=F(s=>t.setPage(3),["prevent"]))},"Task Configuration",2)]),e("li",Hr,[e("button",{class:U(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===4}]),onClick:o[4]||(o[4]=F(s=>t.setPage(4),["prevent"]))},"Task Schedule",2)]),e("li",Vr,[e("button",{class:U(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===5}]),onClick:o[5]||(o[5]=F(s=>t.setPage(5),["prevent"]))},"Review",2)])])]),t.errors?(d(),h("div",Nr,[Gr,e("p",qr,[Br,L(" "+M(t.errors),1)])])):w("",!0),t.wizard.currentPage===1?(d(),h("div",Yr,[j(v,{wizardData:t.wizard,onSelectTask:o[6]||(o[6]=s=>t.setSelectedTask(s))},null,8,["wizardData"])])):w("",!0),t.wizard.currentPage===2?(d(),h("div",Jr,[j(_,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):w("",!0),t.wizard.currentPage===3?(d(),h("div",Zr,[j(l,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):w("",!0),t.wizard.currentPage===4?(d(),h("div",Kr,[j(O,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):w("",!0),t.wizard.currentPage===5?(d(),h("div",Qr,[j(k,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):w("",!0)]),e("footer",el,[e("button",{class:U(["pf-c-button pf-m-secondary",{" pf-m-disabled":t.wizard.currentPage===1}]),disabled:t.wizard.currentPage===1,type:"button",onClick:o[7]||(o[7]=F((...s)=>t.prevPage&&t.prevPage(...s),["prevent"]))}," Back ",10,tl),t.wizard.currentPage!=5?(d(),h("button",{key:0,class:"pf-c-button pf-m-primary",type:"submit",onClick:o[8]||(o[8]=F((...s)=>t.nextPage&&t.nextPage(...s),["prevent"]))},"Next")):w("",!0),t.wizard.currentPage===5?(d(),h("button",{key:1,class:"pf-c-button pf-m-primary",type:"button",onClick:o[9]||(o[9]=F((...s)=>t.saveTask&&t.saveTask(...s),["prevent"]))},"Save Task")):w("",!0),e("div",ol,[e("button",{"aria-disabled":"false",class:"pf-c-button pf-m-link",type:"button",onClick:o[10]||(o[10]=(...s)=>t.close&&t.close(...s))},"Cancel")])])])])]))],64)}const al=X(gr,[["render",nl]]),sl={components:{TasksWizard:al,PageHeader:xe,DataTable:ke,SideDrawer:ze,DeleteModal:Oe,ConfirmationModal:Ue,TaskWizardModal:bt,TasksForm:Kn,ModalTasksRunHistory:mt},setup(){const r=I({editid:0,pagename:"Tasks",pagedesc:"rConfig scheduled tasks",pagenamesingle:"Task",modelName:"tasks",openDrawerState:!1,openDrawerStateEdit:!1,drawerOuterWidth:"pf-m-width-100-on-xl pf-m-width-100-on-lg  pf-m-width-100 ",showDeleteModal:!1,showTaskRunHistoryModal:!1,sideDrawerComponentKey:1,sideDrawerComponentKeyEdit:2,pageOptionsState:{page:1,per_page:10},modelObject:{task_name:"",task_desc:"",task_command:"",task_categories:null,task_devices:null,task_tags:null,task_cron:"",task_email_notify:!0,download_report_notify:!0,verbose_download_report_notify:!1,is_system:0,created_at:null,updated_at:null,device:[],category:[],tag:[]},showConfirmModal:!1}),o=C(0),n=oe("create-notification"),t=C(!1),g=C(),{models:b,isLoading:i,dataTablePageChanged:v,closeDrawerState:_,deleteRow:l,formSubmitted:O,confirmDelete:k,destroyModel:s}=Se(r,r.modelName,r.modelObject);B(()=>{v(r.pageOptionsState),m()});const a=I({headers:[{key:"id",label:"Task ID",sortable:!0},{key:"task_name",label:"Task Name",sortable:!1},{key:"cron_plain",label:"Frequency",sortable:!1},{key:"task_desc",label:"Description",sortable:!1},{key:"taskViewRuns",label:"Run history",sortable:!1,isTasksActionLink:!0,actionLink:{label:"view",action:"viewtaskHistory"}},{key:"finished",label:"Last run",sortable:!1}],data:b,isLoading:i});function p(u){r.editid=u.id,r.isClone=!!u.isClone,u.id===0?r.openDrawerState=!r.openDrawerState:r.openDrawerStateEdit=!r.openDrawerStateEdit}function c(u){r.editid=u,r.showConfirmModal=!0}function f(){axios.post("/api/tasks/run-manual-task",{id:r.editid}).then(u=>{n({type:"success",message:u.data.message,duration:3})}).catch(u=>{n({type:"danger",title:"Error",message:u.response.data.message})})}function m(){axios.get("/api/tasks/recent-failed-jobs-count").then(u=>{u.data.success===!0&&(g.value=u.data.data,g.value>0&&(t.value=!0))}).catch(u=>{n({type:"danger",title:"Error",message:u.response.data.message})})}function y(u){o.value=u,r.showTaskRunHistoryModal=!0}return{viewstate:r,dataTablePageChanged:v,openDrawer:p,closeDrawerState:_,deleteRow:l,confirmDelete:k,table:a,destroyModel:s,formSubmitted:O,showConfirmModal:c,runTaskNow:f,recentFailedJobs:g,showRecentFailedJobs:t,viewtaskHistory:y,historyTaskId:o}}},il={class:"pf-c-page__main",tabindex:"-1"},rl={class:"pf-l-flex pf-m-grow pf-m-column pf-m-row-on-lg pf-m-justify-content-flex-end pf-m-justify-content-flex-start-on-lg pf-m-align-content-flex-end-on-lg",style:{"row-gap":"var(--pf-global--spacer--md)"}},ll={class:"pf-l-flex__item",style:{"margin-bottom":"-0.25em"}},cl={class:"pf-c-label pf-m-red"},dl={class:"pf-c-label__content"},pl=e("a",{href:"/horizon/dashboard",target:"_blank"},"view",-1),_l=e("div",{class:"pf-c-divider",role:"separator"},null,-1),fl={class:"pf-c-page__main-section pf-m-no-padding"},ul={class:"pf-c-drawer__main"},ml=e("div",{class:"pf-l-flex__item"},"Please complete all fields",-1),hl=e("p",null,"Run task now?",-1),vl=e("p",null,"Are you sure you want to run this task now?",-1),gl=e("p",null,"Run",-1),yl=e("p",null,"Cancel",-1);function wl(r,o,n,t,g,b){const i=T("page-header"),v=T("data-table"),_=T("tasks-form"),l=T("side-drawer"),O=T("delete-modal"),k=T("tasks-wizard"),s=T("task-wizard-modal"),a=T("confirmation-modal"),p=T("modal-tasks-run-history");return d(),h(W,null,[e("main",il,[j(i,{pagename:t.viewstate.pagename,desc:t.viewstate.pagedesc},be({_:2},[t.showRecentFailedJobs?{name:"header-right-side",fn:R(()=>[e("div",rl,[e("div",ll,[e("span",cl,[e("span",dl,M(t.recentFailedJobs)+" recent failed jobs ",1),L(" - "),pl])])])]),key:"0"}:void 0]),1032,["pagename","desc"]),_l,e("section",fl,[e("div",{class:U(["pf-c-drawer",{"pf-m-expanded":t.viewstate.openDrawerState||t.viewstate.openDrawerStateEdit}])},[e("div",ul,[j(v,{pagename:t.viewstate.pagenamesingle,tabledata:t.table,taskRunBtnEnabled:!0,onPagechanged:t.dataTablePageChanged,onOpenDrawer:o[0]||(o[0]=c=>t.openDrawer(c)),onDeleteRow:o[1]||(o[1]=c=>t.deleteRow(c)),onShowTaskRunConfirmModal:o[2]||(o[2]=c=>t.showConfirmModal(c)),onActionLink:o[3]||(o[3]=c=>t.viewtaskHistory(c))},null,8,["pagename","tabledata","onPagechanged"]),(d(),S(l,{pagename:t.viewstate.pagenamesingle,drawerState:t.viewstate.openDrawerStateEdit,editid:t.viewstate.editid,outerWidth:t.viewstate.drawerOuterWidth,onCloseDrawer:o[6]||(o[6]=c=>t.viewstate.openDrawerStateEdit=!1),key:t.viewstate.sideDrawerComponentKey},{subtext:R(()=>[ml]),form:R(()=>[(d(),S(_,{viewstate:t.viewstate,onCloseDrawer:o[4]||(o[4]=c=>t.viewstate.openDrawerStateEdit=!1),onFormsubmitted:o[5]||(o[5]=c=>t.formSubmitted(c)),key:t.viewstate.editid},null,8,["viewstate"]))]),_:1},8,["pagename","drawerState","editid","outerWidth"]))])],2)])]),t.viewstate.showDeleteModal?(d(),S(O,{key:0,editid:t.viewstate.editid,onCloseModal:o[7]||(o[7]=c=>t.viewstate.showDeleteModal=!1),onConfirmDelete:t.confirmDelete},null,8,["editid","onConfirmDelete"])):w("",!0),t.viewstate.openDrawerState?(d(),S(s,{key:1},{wizard:R(()=>[(d(),S(k,{viewstate:t.viewstate,onCloseDrawer:t.closeDrawerState,onFormsubmitted:o[8]||(o[8]=c=>t.formSubmitted(c)),key:t.viewstate.editid},null,8,["viewstate","onCloseDrawer"]))]),_:1})):w("",!0),t.viewstate.showConfirmModal?(d(),S(a,{key:2,onCloseModal:o[9]||(o[9]=c=>t.viewstate.showConfirmModal=!1),onAction1:t.runTaskNow},{title:R(()=>[hl]),question:R(()=>[vl]),action1:R(()=>[gl]),action2:R(()=>[yl]),_:1},8,["onAction1"])):w("",!0),t.viewstate.showTaskRunHistoryModal?(d(),S(p,{key:3,onClose:o[10]||(o[10]=c=>t.viewstate.showTaskRunHistoryModal=!1),task_id:t.historyTaskId},null,8,["task_id"])):w("",!0)],64)}const Pl=X(sl,[["render",wl]]);export{Pl as default};
